{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import{CloseIcon}from\"@components/library\";import{useDispatch,useSelector}from\"react-redux\";import{TRADING}from\"../../../../constants\";import{Swiper,SwiperSlide}from\"swiper/react\";import\"swiper/css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ListOfPairs=_ref=>{let{setShowPairs}=_ref;const{userPairList,pair:activePair}=useSelector(state=>state.trading);const dispatch=useDispatch();const swiperRef=useRef(null);const[prevPairListLength,setPrevPairListLength]=useState(userPairList.length);const removePair=slug=>{dispatch({type:TRADING.DELETE_FROM_USER_PAIR_LIST,payload:slug});};const changeCurrentPair=pair=>{dispatch({type:TRADING.CHANGE_PAIR,payload:pair});};useEffect(()=>{setPrevPairListLength(userPairList.length);},[userPairList.length]);return/*#__PURE__*/_jsxs(\"div\",{className:\"pairsList\",children:[/*#__PURE__*/_jsx(Swiper,{ref:swiperRef,onSlidesUpdated:swiper=>{if(swiper.slides.length>prevPairListLength){console.log(\"onSlidesLengthChange\",swiper.slides.length,prevPairListLength);swiper.slideTo(swiper.slides.length-1);}},resistanceRatio:0,spaceBetween:8,slidesPerView:\"auto\",children:userPairList.map(pair=>/*#__PURE__*/_jsx(SwiperSlide,{children:/*#__PURE__*/_jsxs(\"div\",{onClick:()=>changeCurrentPair(pair),className:\"pairTab\".concat(activePair.slug===pair.slug?\" active\":\"\"),children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();removePair(pair.slug);},type:\"button\",className:\"pairTab__close\",children:/*#__PURE__*/_jsx(CloseIcon,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pairTab__content\",children:[/*#__PURE__*/_jsx(\"picture\",{className:\"pairTab__icon\",children:/*#__PURE__*/_jsx(\"img\",{src:pair.cover})}),/*#__PURE__*/_jsx(\"div\",{className:\"pairTab__info\",children:/*#__PURE__*/_jsx(\"p\",{className:\"pairTab__name\",children:pair.name})})]})]})},pair.slug))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPairs(true),type:\"button\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"32\",height:\"32\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",stroke:\"#707070\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M15 12L12 12M12 12L9 12M12 12L12 9M12 12L12 15\",stroke:\"#707070\",strokeWidth:\"1.5\",strokeLinecap:\"round\"})]})})]});};","map":{"version":3,"names":["React","useState","useEffect","useRef","CloseIcon","useDispatch","useSelector","TRADING","Swiper","SwiperSlide","jsx","_jsx","jsxs","_jsxs","ListOfPairs","_ref","setShowPairs","userPairList","pair","activePair","state","trading","dispatch","swiperRef","prevPairListLength","setPrevPairListLength","length","removePair","slug","type","DELETE_FROM_USER_PAIR_LIST","payload","changeCurrentPair","CHANGE_PAIR","className","children","ref","onSlidesUpdated","swiper","slides","console","log","slideTo","resistanceRatio","spaceBetween","slidesPerView","map","onClick","concat","e","stopPropagation","src","cover","name","width","height","viewBox","fill","xmlns","cx","cy","r","stroke","strokeWidth","d","strokeLinecap"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/layout/Header/components/ListOfPairs.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { CloseIcon } from \"@components/library\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { TRADING } from \"../../../../constants\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport \"swiper/css\";\n\nexport const ListOfPairs = ({setShowPairs}) => {\n  const { userPairList, pair: activePair } = useSelector(\n    (state) => state.trading\n  );\n  const dispatch = useDispatch();\n  const swiperRef = useRef(null);\n  const [prevPairListLength, setPrevPairListLength] = useState(\n    userPairList.length\n  );\n\n  const removePair = (slug) => {\n    dispatch({ type: TRADING.DELETE_FROM_USER_PAIR_LIST, payload: slug });\n  };\n\n  const changeCurrentPair = (pair) => {\n    dispatch({ type: TRADING.CHANGE_PAIR, payload: pair });\n  };\n\n  useEffect(() => {\n    setPrevPairListLength(userPairList.length);\n  }, [userPairList.length]);\n\n  return (\n    <div className=\"pairsList\">\n      <Swiper\n        ref={swiperRef}\n        onSlidesUpdated={(swiper) => {\n          if (swiper.slides.length > prevPairListLength) {\n            console.log(\n              \"onSlidesLengthChange\",\n              swiper.slides.length,\n              prevPairListLength\n            );\n            swiper.slideTo(swiper.slides.length - 1);\n          }\n        }}\n        resistanceRatio={0}\n        spaceBetween={8}\n        slidesPerView=\"auto\"\n      >\n        {userPairList.map((pair) => (\n          <SwiperSlide key={pair.slug}>\n            <div\n              onClick={() => changeCurrentPair(pair)}\n              className={`pairTab${\n                activePair.slug === pair.slug ? \" active\" : \"\"\n              }`}\n            >\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  removePair(pair.slug);\n                }}\n                type=\"button\"\n                className=\"pairTab__close\"\n              >\n                <CloseIcon/>\n              </button>\n\n              <div className=\"pairTab__content\">\n                <picture className=\"pairTab__icon\">\n                  <img src={pair.cover}/>\n                </picture>\n                <div className=\"pairTab__info\">\n                  <p className=\"pairTab__name\">{pair.name}</p>\n                </div>\n              </div>\n            </div>\n          </SwiperSlide>\n        ))}\n      </Swiper>\n\n      <button onClick={() => setShowPairs(true)} type=\"button\">\n        <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"#707070\" strokeWidth=\"1.5\"/>\n          <path d=\"M15 12L12 12M12 12L9 12M12 12L12 9M12 12L12 15\" stroke=\"#707070\" strokeWidth=\"1.5\"\n                strokeLinecap=\"round\"/>\n        </svg>\n      </button>\n    </div>\n  );\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,SAAS,KAAQ,qBAAqB,CAC/C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,OAAO,KAAQ,uBAAuB,CAC/C,OAASC,MAAM,CAAEC,WAAW,KAAQ,cAAc,CAClD,MAAO,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpB,MAAO,MAAM,CAAAC,WAAW,CAAGC,IAAA,EAAoB,IAAnB,CAACC,YAAY,CAAC,CAAAD,IAAA,CACxC,KAAM,CAAEE,YAAY,CAAEC,IAAI,CAAEC,UAAW,CAAC,CAAGb,WAAW,CACnDc,KAAK,EAAKA,KAAK,CAACC,OACnB,CAAC,CACD,KAAM,CAAAC,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAkB,SAAS,CAAGpB,MAAM,CAAC,IAAI,CAAC,CAC9B,KAAM,CAACqB,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGxB,QAAQ,CAC1DgB,YAAY,CAACS,MACf,CAAC,CAED,KAAM,CAAAC,UAAU,CAAIC,IAAI,EAAK,CAC3BN,QAAQ,CAAC,CAAEO,IAAI,CAAEtB,OAAO,CAACuB,0BAA0B,CAAEC,OAAO,CAAEH,IAAK,CAAC,CAAC,CACvE,CAAC,CAED,KAAM,CAAAI,iBAAiB,CAAId,IAAI,EAAK,CAClCI,QAAQ,CAAC,CAAEO,IAAI,CAAEtB,OAAO,CAAC0B,WAAW,CAAEF,OAAO,CAAEb,IAAK,CAAC,CAAC,CACxD,CAAC,CAEDhB,SAAS,CAAC,IAAM,CACduB,qBAAqB,CAACR,YAAY,CAACS,MAAM,CAAC,CAC5C,CAAC,CAAE,CAACT,YAAY,CAACS,MAAM,CAAC,CAAC,CAEzB,mBACEb,KAAA,QAAKqB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxB,IAAA,CAACH,MAAM,EACL4B,GAAG,CAAEb,SAAU,CACfc,eAAe,CAAGC,MAAM,EAAK,CAC3B,GAAIA,MAAM,CAACC,MAAM,CAACb,MAAM,CAAGF,kBAAkB,CAAE,CAC7CgB,OAAO,CAACC,GAAG,CACT,sBAAsB,CACtBH,MAAM,CAACC,MAAM,CAACb,MAAM,CACpBF,kBACF,CAAC,CACDc,MAAM,CAACI,OAAO,CAACJ,MAAM,CAACC,MAAM,CAACb,MAAM,CAAG,CAAC,CAAC,CAC1C,CACF,CAAE,CACFiB,eAAe,CAAE,CAAE,CACnBC,YAAY,CAAE,CAAE,CAChBC,aAAa,CAAC,MAAM,CAAAV,QAAA,CAEnBlB,YAAY,CAAC6B,GAAG,CAAE5B,IAAI,eACrBP,IAAA,CAACF,WAAW,EAAA0B,QAAA,cACVtB,KAAA,QACEkC,OAAO,CAAEA,CAAA,GAAMf,iBAAiB,CAACd,IAAI,CAAE,CACvCgB,SAAS,WAAAc,MAAA,CACP7B,UAAU,CAACS,IAAI,GAAKV,IAAI,CAACU,IAAI,CAAG,SAAS,CAAG,EAAE,CAC7C,CAAAO,QAAA,eAEHxB,IAAA,WACEoC,OAAO,CAAGE,CAAC,EAAK,CACdA,CAAC,CAACC,eAAe,CAAC,CAAC,CACnBvB,UAAU,CAACT,IAAI,CAACU,IAAI,CAAC,CACvB,CAAE,CACFC,IAAI,CAAC,QAAQ,CACbK,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAE1BxB,IAAA,CAACP,SAAS,GAAC,CAAC,CACN,CAAC,cAETS,KAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BxB,IAAA,YAASuB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAChCxB,IAAA,QAAKwC,GAAG,CAAEjC,IAAI,CAACkC,KAAM,CAAC,CAAC,CAChB,CAAC,cACVzC,IAAA,QAAKuB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BxB,IAAA,MAAGuB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEjB,IAAI,CAACmC,IAAI,CAAI,CAAC,CACzC,CAAC,EACH,CAAC,EACH,CAAC,EA1BUnC,IAAI,CAACU,IA2BV,CACd,CAAC,CACI,CAAC,cAETjB,IAAA,WAAQoC,OAAO,CAAEA,CAAA,GAAM/B,YAAY,CAAC,IAAI,CAAE,CAACa,IAAI,CAAC,QAAQ,CAAAM,QAAA,cACtDtB,KAAA,QAAKyC,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,KAAK,CAAC,4BAA4B,CAAAvB,QAAA,eAC5FxB,IAAA,WAAQgD,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,IAAI,CAACC,MAAM,CAAC,SAAS,CAACC,WAAW,CAAC,KAAK,CAAC,CAAC,cACnEpD,IAAA,SAAMqD,CAAC,CAAC,gDAAgD,CAACF,MAAM,CAAC,SAAS,CAACC,WAAW,CAAC,KAAK,CACrFE,aAAa,CAAC,OAAO,CAAC,CAAC,EAC1B,CAAC,CACA,CAAC,EACN,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
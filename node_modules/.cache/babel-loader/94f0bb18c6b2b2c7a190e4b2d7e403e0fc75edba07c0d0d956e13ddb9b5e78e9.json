{"ast":null,"code":"import _objectSpread from\"/Users/admin/Desktop/untitled folder/bo_react_test/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{Button,InternalContent}from\"@components/library\";import TopBalance from\"@components/library/TopBalance\";import{Tab,TabPanel,Tabs,TabsList}from\"@mui/base\";import Fiat from\"./components/Fiat\";import{MenuItem,Select}from\"@mui/material\";import Crypto from\"./components/Crypto\";import{useSelector}from\"react-redux\";import\"./index.sass\";import{useTranslation}from\"@helpers/translate\";import{Helmet}from\"react-helmet\";// import config from \"../../../config\";\nimport axios from\"@helpers/axios/private.axios\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export const History=()=>{const{theme}=useSelector(state=>state.theme);const[openSelect,setOpenSelect]=useState(false);const[operation,setOperation]=useState(\"all\");const{__}=useTranslation();const handleChange=event=>{setOperation(event.target.value);};const exportHistory=async format=>{try{const resp=await axios.get(\"/transaction/history/export/\".concat(format),{responseType:\"blob\"});const blob=new Blob([resp.data],{type:\"text/plain\"});const a=document.createElement(\"a\");a.href=URL.createObjectURL(blob);a.style.display=\"none\";a.download=\"transactions.\".concat(format);document.body.appendChild(a);a.click();a.remove();}catch(e){console.error(e);}};return/*#__PURE__*/_jsxs(InternalContent,{bgImg:\"../images/bg/bg-lamba\".concat(theme===\"white\"?\"-white\":\"\",\".png\"),children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsxs(\"title\",{children:[__(\"seo.transaction_history\"),\" \",__(\"seo.divider\"),\" \",__(\"seo.title\")]})}),/*#__PURE__*/_jsx(TopBalance,{}),/*#__PURE__*/_jsxs(Tabs,{defaultValue:2,children:[/*#__PURE__*/_jsxs(TabsList,{className:\"tabs tabs-t-history\",children:[/*#__PURE__*/_jsxs(Select,{className:\"t-history-select bo-select-mini \".concat(openSelect?\"open\":\"\"),value:operation,onChange:handleChange,variant:\"standard\",onOpen:()=>setOpenSelect(true),onClose:()=>setOpenSelect(false),MenuProps:{className:\"bo-select-mini-content\"},IconComponent:props=>{return/*#__PURE__*/_jsx(\"svg\",_objectSpread(_objectSpread({},props),{},{width:\"16\",height:\"16\",viewBox:\"0 0 16 16\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M11.9467 5.45312H7.79341H4.05341C3.41341 5.45312 3.09341 6.22646 3.54674 6.67979L7.00008 10.1331C7.55341 10.6865 8.45341 10.6865 9.00674 10.1331L10.3201 8.81979L12.4601 6.67979C12.9067 6.22646 12.5867 5.45312 11.9467 5.45312Z\",fill:\"#707070\"})}));},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"all\",children:__(\"common.all\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"withdrawal\",children:__(\"wallet.withdrawal\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"deposit\",children:__(\"wallet.deposit\")})]}),/*#__PURE__*/_jsx(Tab,{value:1,children:__(\"common.fiat\")}),/*#__PURE__*/_jsx(Tab,{value:2,children:__(\"common.crypto\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"tabs-t-history__btns\",children:[/*#__PURE__*/_jsx(Button,{className:\"tabs-t-history__btn\",color:\"border\",size:\"mini-w\",type:\"button\",onClick:()=>exportHistory(\"csv\"),children:\"Export CSV\"}),/*#__PURE__*/_jsx(Button,{className:\"tabs-t-history__btn\",color:\"orange\",size:\"mini-w\",type:\"button\",onClick:()=>exportHistory(\"xlsx\"),children:\"Export XLSX\"})]})]}),/*#__PURE__*/_jsx(TabPanel,{className:\"tab-content tab-content--mini\",value:1,children:/*#__PURE__*/_jsx(Fiat,{operation:operation})}),/*#__PURE__*/_jsx(TabPanel,{className:\"tab-content tab-content--mini\",value:2,children:/*#__PURE__*/_jsx(Crypto,{operation:operation})})]})]});};export default History;","map":{"version":3,"names":["React","useState","Button","InternalContent","TopBalance","Tab","TabPanel","Tabs","TabsList","Fiat","MenuItem","Select","Crypto","useSelector","useTranslation","Helmet","axios","jsxs","_jsxs","jsx","_jsx","History","theme","state","openSelect","setOpenSelect","operation","setOperation","__","handleChange","event","target","value","exportHistory","format","resp","get","concat","responseType","blob","Blob","data","type","a","document","createElement","href","URL","createObjectURL","style","display","download","body","appendChild","click","remove","e","console","error","bgImg","children","defaultValue","className","onChange","variant","onOpen","onClose","MenuProps","IconComponent","props","_objectSpread","width","height","viewBox","fill","xmlns","d","color","size","onClick"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/pages/History/index.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button, InternalContent } from \"@components/library\";\nimport TopBalance from \"@components/library/TopBalance\";\nimport { Tab, TabPanel, Tabs, TabsList } from \"@mui/base\";\nimport Fiat from \"./components/Fiat\";\nimport { MenuItem, Select } from \"@mui/material\";\nimport Crypto from \"./components/Crypto\";\nimport { useSelector } from \"react-redux\";\n\nimport \"./index.sass\";\nimport { useTranslation } from \"@helpers/translate\";\nimport { Helmet } from \"react-helmet\";\n// import config from \"../../../config\";\nimport axios from \"@helpers/axios/private.axios\";\n\nexport const History = () => {\n  const { theme } = useSelector((state) => state.theme);\n  const [openSelect, setOpenSelect] = useState(false);\n  const [operation, setOperation] = useState(\"all\");\n  const { __ } = useTranslation();\n  const handleChange = (event) => {\n    setOperation(event.target.value);\n  };\n\n  const exportHistory = async (format) => {\n    try {\n      const resp = await axios.get(`/transaction/history/export/${format}`, {\n        responseType: \"blob\",\n      });\n      const blob = new Blob([resp.data], { type: \"text/plain\" });\n\n      const a = document.createElement(\"a\");\n      a.href = URL.createObjectURL(blob);\n      a.style.display = \"none\";\n      a.download = `transactions.${format}`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  return (\n    <InternalContent\n      bgImg={`../images/bg/bg-lamba${theme === \"white\" ? \"-white\" : \"\"}.png`}\n    >\n      <Helmet>\n        <title>\n          {__(\"seo.transaction_history\")} {__(\"seo.divider\")} {__(\"seo.title\")}\n        </title>\n      </Helmet>\n\n      <TopBalance />\n\n      <Tabs defaultValue={2}>\n        <TabsList className=\"tabs tabs-t-history\">\n          <Select\n            className={`t-history-select bo-select-mini ${\n              openSelect ? \"open\" : \"\"\n            }`}\n            value={operation}\n            onChange={handleChange}\n            variant=\"standard\"\n            onOpen={() => setOpenSelect(true)}\n            onClose={() => setOpenSelect(false)}\n            MenuProps={{\n              className: \"bo-select-mini-content\",\n            }}\n            IconComponent={(props) => {\n              return (\n                <svg\n                  {...props}\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 16 16\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M11.9467 5.45312H7.79341H4.05341C3.41341 5.45312 3.09341 6.22646 3.54674 6.67979L7.00008 10.1331C7.55341 10.6865 8.45341 10.6865 9.00674 10.1331L10.3201 8.81979L12.4601 6.67979C12.9067 6.22646 12.5867 5.45312 11.9467 5.45312Z\"\n                    fill=\"#707070\"\n                  />\n                </svg>\n              );\n            }}\n          >\n            <MenuItem value={\"all\"}>{__(\"common.all\")}</MenuItem>\n            <MenuItem value={\"withdrawal\"}>{__(\"wallet.withdrawal\")}</MenuItem>\n            <MenuItem value={\"deposit\"}>{__(\"wallet.deposit\")}</MenuItem>\n          </Select>\n          <Tab value={1}>{__(\"common.fiat\")}</Tab>\n          <Tab value={2}>{__(\"common.crypto\")}</Tab>\n\n          <div className=\"tabs-t-history__btns\">\n            <Button\n              className=\"tabs-t-history__btn\"\n              color=\"border\"\n              size=\"mini-w\"\n              type=\"button\"\n              onClick={() => exportHistory(\"csv\")}\n            >\n              Export CSV\n            </Button>\n            <Button\n              className=\"tabs-t-history__btn\"\n              color=\"orange\"\n              size=\"mini-w\"\n              type=\"button\"\n              onClick={() => exportHistory(\"xlsx\")}\n            >\n              Export XLSX\n            </Button>\n          </div>\n        </TabsList>\n        <TabPanel className=\"tab-content tab-content--mini\" value={1}>\n          <Fiat operation={operation} />\n        </TabPanel>\n        <TabPanel className=\"tab-content tab-content--mini\" value={2}>\n          <Crypto operation={operation} />\n        </TabPanel>\n      </Tabs>\n    </InternalContent>\n  );\n};\n\nexport default History;\n"],"mappings":"uIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,CAAEC,eAAe,KAAQ,qBAAqB,CAC7D,MAAO,CAAAC,UAAU,KAAM,gCAAgC,CACvD,OAASC,GAAG,CAAEC,QAAQ,CAAEC,IAAI,CAAEC,QAAQ,KAAQ,WAAW,CACzD,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,OAASC,QAAQ,CAAEC,MAAM,KAAQ,eAAe,CAChD,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,OAASC,WAAW,KAAQ,aAAa,CAEzC,MAAO,cAAc,CACrB,OAASC,cAAc,KAAQ,oBAAoB,CACnD,OAASC,MAAM,KAAQ,cAAc,CACrC;AACA,MAAO,CAAAC,KAAK,KAAM,8BAA8B,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEjD,MAAO,MAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAEC,KAAM,CAAC,CAAGT,WAAW,CAAEU,KAAK,EAAKA,KAAK,CAACD,KAAK,CAAC,CACrD,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACyB,SAAS,CAAEC,YAAY,CAAC,CAAG1B,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAE2B,EAAG,CAAC,CAAGd,cAAc,CAAC,CAAC,CAC/B,KAAM,CAAAe,YAAY,CAAIC,KAAK,EAAK,CAC9BH,YAAY,CAACG,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAClC,CAAC,CAED,KAAM,CAAAC,aAAa,CAAG,KAAO,CAAAC,MAAM,EAAK,CACtC,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAnB,KAAK,CAACoB,GAAG,gCAAAC,MAAA,CAAgCH,MAAM,EAAI,CACpEI,YAAY,CAAE,MAChB,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACL,IAAI,CAACM,IAAI,CAAC,CAAE,CAAEC,IAAI,CAAE,YAAa,CAAC,CAAC,CAE1D,KAAM,CAAAC,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAGC,GAAG,CAACC,eAAe,CAACT,IAAI,CAAC,CAClCI,CAAC,CAACM,KAAK,CAACC,OAAO,CAAG,MAAM,CACxBP,CAAC,CAACQ,QAAQ,iBAAAd,MAAA,CAAmBH,MAAM,CAAE,CACrCU,QAAQ,CAACQ,IAAI,CAACC,WAAW,CAACV,CAAC,CAAC,CAC5BA,CAAC,CAACW,KAAK,CAAC,CAAC,CACTX,CAAC,CAACY,MAAM,CAAC,CAAC,CACZ,CAAE,MAAOC,CAAC,CAAE,CACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC,CAClB,CACF,CAAC,CACD,mBACEtC,KAAA,CAACf,eAAe,EACdwD,KAAK,yBAAAtB,MAAA,CAA0Bf,KAAK,GAAK,OAAO,CAAG,QAAQ,CAAG,EAAE,QAAO,CAAAsC,QAAA,eAEvExC,IAAA,CAACL,MAAM,EAAA6C,QAAA,cACL1C,KAAA,UAAA0C,QAAA,EACGhC,EAAE,CAAC,yBAAyB,CAAC,CAAC,GAAC,CAACA,EAAE,CAAC,aAAa,CAAC,CAAC,GAAC,CAACA,EAAE,CAAC,WAAW,CAAC,EAC/D,CAAC,CACF,CAAC,cAETR,IAAA,CAAChB,UAAU,GAAE,CAAC,cAEdc,KAAA,CAACX,IAAI,EAACsD,YAAY,CAAE,CAAE,CAAAD,QAAA,eACpB1C,KAAA,CAACV,QAAQ,EAACsD,SAAS,CAAC,qBAAqB,CAAAF,QAAA,eACvC1C,KAAA,CAACP,MAAM,EACLmD,SAAS,oCAAAzB,MAAA,CACPb,UAAU,CAAG,MAAM,CAAG,EAAE,CACvB,CACHQ,KAAK,CAAEN,SAAU,CACjBqC,QAAQ,CAAElC,YAAa,CACvBmC,OAAO,CAAC,UAAU,CAClBC,MAAM,CAAEA,CAAA,GAAMxC,aAAa,CAAC,IAAI,CAAE,CAClCyC,OAAO,CAAEA,CAAA,GAAMzC,aAAa,CAAC,KAAK,CAAE,CACpC0C,SAAS,CAAE,CACTL,SAAS,CAAE,wBACb,CAAE,CACFM,aAAa,CAAGC,KAAK,EAAK,CACxB,mBACEjD,IAAA,OAAAkD,aAAA,CAAAA,aAAA,IACMD,KAAK,MACTE,KAAK,CAAC,IAAI,CACVC,MAAM,CAAC,IAAI,CACXC,OAAO,CAAC,WAAW,CACnBC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAC,4BAA4B,CAAAf,QAAA,cAElCxC,IAAA,SACEwD,CAAC,CAAC,mOAAmO,CACrOF,IAAI,CAAC,SAAS,CACf,CAAC,EACC,CAAC,CAEV,CAAE,CAAAd,QAAA,eAEFxC,IAAA,CAACV,QAAQ,EAACsB,KAAK,CAAE,KAAM,CAAA4B,QAAA,CAAEhC,EAAE,CAAC,YAAY,CAAC,CAAW,CAAC,cACrDR,IAAA,CAACV,QAAQ,EAACsB,KAAK,CAAE,YAAa,CAAA4B,QAAA,CAAEhC,EAAE,CAAC,mBAAmB,CAAC,CAAW,CAAC,cACnER,IAAA,CAACV,QAAQ,EAACsB,KAAK,CAAE,SAAU,CAAA4B,QAAA,CAAEhC,EAAE,CAAC,gBAAgB,CAAC,CAAW,CAAC,EACvD,CAAC,cACTR,IAAA,CAACf,GAAG,EAAC2B,KAAK,CAAE,CAAE,CAAA4B,QAAA,CAAEhC,EAAE,CAAC,aAAa,CAAC,CAAM,CAAC,cACxCR,IAAA,CAACf,GAAG,EAAC2B,KAAK,CAAE,CAAE,CAAA4B,QAAA,CAAEhC,EAAE,CAAC,eAAe,CAAC,CAAM,CAAC,cAE1CV,KAAA,QAAK4C,SAAS,CAAC,sBAAsB,CAAAF,QAAA,eACnCxC,IAAA,CAAClB,MAAM,EACL4D,SAAS,CAAC,qBAAqB,CAC/Be,KAAK,CAAC,QAAQ,CACdC,IAAI,CAAC,QAAQ,CACbpC,IAAI,CAAC,QAAQ,CACbqC,OAAO,CAAEA,CAAA,GAAM9C,aAAa,CAAC,KAAK,CAAE,CAAA2B,QAAA,CACrC,YAED,CAAQ,CAAC,cACTxC,IAAA,CAAClB,MAAM,EACL4D,SAAS,CAAC,qBAAqB,CAC/Be,KAAK,CAAC,QAAQ,CACdC,IAAI,CAAC,QAAQ,CACbpC,IAAI,CAAC,QAAQ,CACbqC,OAAO,CAAEA,CAAA,GAAM9C,aAAa,CAAC,MAAM,CAAE,CAAA2B,QAAA,CACtC,aAED,CAAQ,CAAC,EACN,CAAC,EACE,CAAC,cACXxC,IAAA,CAACd,QAAQ,EAACwD,SAAS,CAAC,+BAA+B,CAAC9B,KAAK,CAAE,CAAE,CAAA4B,QAAA,cAC3DxC,IAAA,CAACX,IAAI,EAACiB,SAAS,CAAEA,SAAU,CAAE,CAAC,CACtB,CAAC,cACXN,IAAA,CAACd,QAAQ,EAACwD,SAAS,CAAC,+BAA+B,CAAC9B,KAAK,CAAE,CAAE,CAAA4B,QAAA,cAC3DxC,IAAA,CAACR,MAAM,EAACc,SAAS,CAAEA,SAAU,CAAE,CAAC,CACxB,CAAC,EACP,CAAC,EACQ,CAAC,CAEtB,CAAC,CAED,cAAe,CAAAL,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
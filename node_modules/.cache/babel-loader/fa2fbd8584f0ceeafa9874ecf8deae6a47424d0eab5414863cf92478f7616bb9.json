{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Box,Skeleton}from\"@mui/material\";import Status from\"@components/library/UI/Status\";import{Pagination}from\"@mui/material\";import axios from\"@helpers/axios/private.axios\";import{useTranslation}from\"@helpers/translate\";import{convertToUserTimezone}from\"@helpers/timezone\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Fiat=_ref=>{let{operation}=_ref;const[loading,setLoading]=useState(false);const[data,setData]=useState([]);const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(null);const{__}=useTranslation();const getFiatHistory=async function(operation){let page=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"1\";try{setLoading(true);const operationParam=operation!==\"all\"?\"operation=\".concat(operation):\"\";const resp=await axios.get(\"/gateway/history/fiat/transactions?\".concat(operationParam,\"&page=\").concat(page,\"&paginate=10\"));setData(resp.data.data);setLoading(false);setTotalPages(resp.data.pagination.total);}catch(e){console.error(e);}};useEffect(()=>{getFiatHistory(operation,currentPage);},[operation,currentPage]);const changePage=(event,page)=>{setCurrentPage(page);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{sx:{overflowX:\"auto\"},children:/*#__PURE__*/_jsxs(Box,{sx:{minWidth:960},className:\"table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table__tr table__tr--head\",children:[/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 21%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:__(\"common.date\")})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 18%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:__(\"common.type\")})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 23.5%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:__(\"common.payment_method\")})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 16%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:__(\"common.amount\")})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 21.5%\",textAlign:\"right\",paddingRight:\"40px\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:__(\"common.status\")})})]}),loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"table__tr\",children:/*#__PURE__*/_jsx(Skeleton,{className:\"table__skeleton\",variant:\"rounded\",width:\"100%\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"table__tr\",children:/*#__PURE__*/_jsx(Skeleton,{className:\"table__skeleton\",variant:\"rounded\",width:\"100%\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"table__tr\",children:/*#__PURE__*/_jsx(Skeleton,{className:\"table__skeleton\",variant:\"rounded\",width:\"100%\"})})]}):data.length?data.map(el=>/*#__PURE__*/_jsxs(\"div\",{className:\"table__tr\",children:[/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 21%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:convertToUserTimezone(el.created_at,\"YYYY-MM-DD HH:mm\")})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 18%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text table__text--bg\",children:el.operation===\"deposit\"?__(\"wallet.deposit_type\"):__(\"wallet.withdraw_type\")})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 23.5%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text table__text--bg\",children:el.gateway_title})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 16%\"},className:\"table__td\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"table__text\",children:[\"$\",el.amount]})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 21.5%\",textAlign:\"right\"},className:\"table__td\",children:/*#__PURE__*/_jsx(Status,{status:el.status})})]},el.id)):/*#__PURE__*/_jsx(\"p\",{children:__(\"common.not_found\")})]})}),totalPages!==1&&/*#__PURE__*/_jsx(Pagination,{className:\"pagination\",count:totalPages,page:currentPage,onChange:changePage,variant:\"outlined\",shape:\"rounded\"})]});};export default Fiat;","map":{"version":3,"names":["React","useEffect","useState","Box","Skeleton","Status","Pagination","axios","useTranslation","convertToUserTimezone","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Fiat","_ref","operation","loading","setLoading","data","setData","currentPage","setCurrentPage","totalPages","setTotalPages","__","getFiatHistory","page","arguments","length","undefined","operationParam","concat","resp","get","pagination","total","e","console","error","changePage","event","children","sx","overflowX","minWidth","className","flex","textAlign","paddingRight","variant","width","map","el","created_at","gateway_title","amount","status","id","count","onChange","shape"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/pages/History/components/Fiat.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Box, Skeleton } from \"@mui/material\";\nimport Status from \"@components/library/UI/Status\";\nimport { Pagination } from \"@mui/material\";\nimport axios from \"@helpers/axios/private.axios\";\nimport { useTranslation } from \"@helpers/translate\";\nimport {convertToUserTimezone} from \"@helpers/timezone\";\n\nconst Fiat = ({ operation }) => {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(null);\n  const { __ } = useTranslation();\n\n  const getFiatHistory = async (operation, page = \"1\") => {\n    try {\n      setLoading(true);\n      const operationParam =\n        operation !== \"all\" ? `operation=${operation}` : \"\";\n      const resp = await axios.get(\n        `/gateway/history/fiat/transactions?${operationParam}&page=${page}&paginate=10`\n      );\n      setData(resp.data.data);\n      setLoading(false);\n      setTotalPages(resp.data.pagination.total);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  useEffect(() => {\n    getFiatHistory(operation, currentPage);\n  }, [operation, currentPage]);\n\n  const changePage = (event, page) => {\n    setCurrentPage(page);\n  };\n\n  return (\n    <>\n      <Box sx={{ overflowX: \"auto\" }}>\n        <Box sx={{ minWidth: 960 }} className=\"table\">\n          <div className=\"table__tr table__tr--head\">\n            <Box\n              sx={{\n                flex: \"0 0 21%\",\n              }}\n              className=\"table__td\"\n            >\n              <p className=\"table__text\">{__(\"common.date\")}</p>\n            </Box>\n            <Box\n              sx={{\n                flex: \"0 0 18%\",\n              }}\n              className=\"table__td\"\n            >\n              <p className=\"table__text\">{__(\"common.type\")}</p>\n            </Box>\n            <Box\n              sx={{\n                flex: \"0 0 23.5%\",\n              }}\n              className=\"table__td\"\n            >\n              <p className=\"table__text\">{__(\"common.payment_method\")}</p>\n            </Box>\n            <Box\n              sx={{\n                flex: \"0 0 16%\",\n              }}\n              className=\"table__td\"\n            >\n              <p className=\"table__text\">{__(\"common.amount\")}</p>\n            </Box>\n            <Box\n              sx={{\n                flex: \"0 0 21.5%\",\n                textAlign: \"right\",\n                paddingRight: \"40px\",\n              }}\n              className=\"table__td\"\n            >\n              <p className=\"table__text\">{__(\"common.status\")}</p>\n            </Box>\n          </div>\n          {loading ? (\n            <>\n              <div className=\"table__tr\">\n                <Skeleton\n                  className=\"table__skeleton\"\n                  variant=\"rounded\"\n                  width=\"100%\"\n                />\n              </div>\n              <div className=\"table__tr\">\n                <Skeleton\n                  className=\"table__skeleton\"\n                  variant=\"rounded\"\n                  width=\"100%\"\n                />\n              </div>\n              <div className=\"table__tr\">\n                <Skeleton\n                  className=\"table__skeleton\"\n                  variant=\"rounded\"\n                  width=\"100%\"\n                />\n              </div>\n            </>\n          ) : data.length ? (\n            data.map((el) => (\n              <div key={el.id} className=\"table__tr\">\n                <Box\n                  sx={{\n                    flex: \"0 0 21%\",\n                  }}\n                  className=\"table__td\"\n                >\n                  <p className=\"table__text\">{convertToUserTimezone(el.created_at, \"YYYY-MM-DD HH:mm\")}</p>\n                </Box>\n                <Box\n                  sx={{\n                    flex: \"0 0 18%\",\n                  }}\n                  className=\"table__td\"\n                >\n                  <p className=\"table__text table__text--bg\">\n                    {el.operation === \"deposit\"\n                      ? __(\"wallet.deposit_type\")\n                      : __(\"wallet.withdraw_type\")}\n                  </p>\n                </Box>\n                <Box\n                  sx={{\n                    flex: \"0 0 23.5%\",\n                  }}\n                  className=\"table__td\"\n                >\n                  <p className=\"table__text table__text--bg\">\n                    {el.gateway_title}\n                  </p>\n                </Box>\n                <Box\n                  sx={{\n                    flex: \"0 0 16%\",\n                  }}\n                  className=\"table__td\"\n                >\n                  <p className=\"table__text\">${el.amount}</p>\n                </Box>\n                <Box\n                  sx={{\n                    flex: \"0 0 21.5%\",\n                    textAlign: \"right\",\n                  }}\n                  className=\"table__td\"\n                >\n                  <Status status={el.status} />\n                </Box>\n              </div>\n            ))\n          ) : (\n            <p>{__(\"common.not_found\")}</p>\n          )}\n        </Box>\n      </Box>\n      {totalPages !== 1 && (\n        <Pagination\n          className=\"pagination\"\n          count={totalPages}\n          page={currentPage}\n          onChange={changePage}\n          variant=\"outlined\"\n          shape=\"rounded\"\n        />\n      )}\n    </>\n  );\n};\n\nexport default Fiat;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
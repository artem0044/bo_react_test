{"ast":null,"code":"import axios from\"@helpers/axios/private.axios\";import{ALERT,WALLET}from\"../../constants\";export const gatewayDeposit=_ref=>{let{amount,id}=_ref;return async dispatch=>{try{const resp=await axios.post(\"/gateway/\".concat(id,\"/deposit\"),{amount});const{type,url_form}=resp.data.data;if(type===\"form\"){const div=document.createElement(\"div\");div.hidden=true;div.innerHTML=resp.data.data.form;document.body.appendChild(div);const form=div.querySelector(\"form\");form.submit();div.remove();}if(type===\"link\"){window.location=url_form;}return resp;}catch(error){dispatch({type:ALERT.ALERT_ERROR,payload:error.response.data.message});}};};export const getTransaction=transaction_id=>async dispatch=>{try{const response=await axios.get(\"/transaction/\".concat(transaction_id));const{status,amount,currency}=response.data.data;const data={status,amount,currency};console.log(data);dispatch({type:WALLET.SHOW_POPUP,payload:data});}catch(error){dispatch({type:ALERT.ALERT_ERROR,payload:error.response.data.message});}};","map":{"version":3,"names":["axios","ALERT","WALLET","gatewayDeposit","_ref","amount","id","dispatch","resp","post","concat","type","url_form","data","div","document","createElement","hidden","innerHTML","form","body","appendChild","querySelector","submit","remove","window","location","error","ALERT_ERROR","payload","response","message","getTransaction","transaction_id","get","status","currency","console","log","SHOW_POPUP"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/actions/wallet/deposit.js"],"sourcesContent":["import axios from \"@helpers/axios/private.axios\";\nimport { ALERT, WALLET } from \"../../constants\";\n\nexport const gatewayDeposit =\n  ({ amount, id }) =>\n  async (dispatch) => {\n    try {\n      const resp = await axios.post(`/gateway/${id}/deposit`, {\n        amount,\n      });\n\n      const {type, url_form } = resp.data.data;\n\n      if (type === \"form\") {\n        const div = document.createElement(\"div\");\n        div.hidden = true;\n\n        div.innerHTML = resp.data.data.form;\n\n        document.body.appendChild(div);\n        const form = div.querySelector(\"form\");\n        form.submit();\n        div.remove();\n      }\n\n      if (type === \"link\") {\n        window.location = url_form;\n      }\n\n      return resp;\n    } catch (error) {\n      dispatch({\n        type: ALERT.ALERT_ERROR,\n        payload: error.response.data.message,\n      });\n    }\n  };\n\nexport const getTransaction = (transaction_id) => async (dispatch) => {\n  try {\n    const response = await axios.get(`/transaction/${transaction_id}`);\n    const { status, amount, currency } = response.data.data;\n\n    const data = {\n      status,\n      amount,\n      currency,\n    };\n\n    console.log(data);\n\n    dispatch({\n      type: WALLET.SHOW_POPUP,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: ALERT.ALERT_ERROR,\n      payload: error.response.data.message,\n    });\n  }\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,8BAA8B,CAChD,OAASC,KAAK,CAAEC,MAAM,KAAQ,iBAAiB,CAE/C,MAAO,MAAM,CAAAC,cAAc,CACzBC,IAAA,MAAC,CAAEC,MAAM,CAAEC,EAAG,CAAC,CAAAF,IAAA,OACf,MAAO,CAAAG,QAAQ,EAAK,CAClB,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAR,KAAK,CAACS,IAAI,aAAAC,MAAA,CAAaJ,EAAE,aAAY,CACtDD,MACF,CAAC,CAAC,CAEF,KAAM,CAACM,IAAI,CAAEC,QAAS,CAAC,CAAGJ,IAAI,CAACK,IAAI,CAACA,IAAI,CAExC,GAAIF,IAAI,GAAK,MAAM,CAAE,CACnB,KAAM,CAAAG,GAAG,CAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CACzCF,GAAG,CAACG,MAAM,CAAG,IAAI,CAEjBH,GAAG,CAACI,SAAS,CAAGV,IAAI,CAACK,IAAI,CAACA,IAAI,CAACM,IAAI,CAEnCJ,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,GAAG,CAAC,CAC9B,KAAM,CAAAK,IAAI,CAAGL,GAAG,CAACQ,aAAa,CAAC,MAAM,CAAC,CACtCH,IAAI,CAACI,MAAM,CAAC,CAAC,CACbT,GAAG,CAACU,MAAM,CAAC,CAAC,CACd,CAEA,GAAIb,IAAI,GAAK,MAAM,CAAE,CACnBc,MAAM,CAACC,QAAQ,CAAGd,QAAQ,CAC5B,CAEA,MAAO,CAAAJ,IAAI,CACb,CAAE,MAAOmB,KAAK,CAAE,CACdpB,QAAQ,CAAC,CACPI,IAAI,CAAEV,KAAK,CAAC2B,WAAW,CACvBC,OAAO,CAAEF,KAAK,CAACG,QAAQ,CAACjB,IAAI,CAACkB,OAC/B,CAAC,CAAC,CACJ,CACF,CAAC,GAEH,MAAO,MAAM,CAAAC,cAAc,CAAIC,cAAc,EAAK,KAAO,CAAA1B,QAAQ,EAAK,CACpE,GAAI,CACF,KAAM,CAAAuB,QAAQ,CAAG,KAAM,CAAA9B,KAAK,CAACkC,GAAG,iBAAAxB,MAAA,CAAiBuB,cAAc,CAAE,CAAC,CAClE,KAAM,CAAEE,MAAM,CAAE9B,MAAM,CAAE+B,QAAS,CAAC,CAAGN,QAAQ,CAACjB,IAAI,CAACA,IAAI,CAEvD,KAAM,CAAAA,IAAI,CAAG,CACXsB,MAAM,CACN9B,MAAM,CACN+B,QACF,CAAC,CAEDC,OAAO,CAACC,GAAG,CAACzB,IAAI,CAAC,CAEjBN,QAAQ,CAAC,CACPI,IAAI,CAAET,MAAM,CAACqC,UAAU,CACvBV,OAAO,CAAEhB,IACX,CAAC,CAAC,CACJ,CAAE,MAAOc,KAAK,CAAE,CACdpB,QAAQ,CAAC,CACPI,IAAI,CAAEV,KAAK,CAAC2B,WAAW,CACvBC,OAAO,CAAEF,KAAK,CAACG,QAAQ,CAACjB,IAAI,CAACkB,OAC/B,CAAC,CAAC,CACJ,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
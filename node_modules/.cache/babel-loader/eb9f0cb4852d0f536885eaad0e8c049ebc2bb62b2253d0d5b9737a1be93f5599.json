{"ast":null,"code":"import _objectSpread from\"/Users/admin/Desktop/untitled folder/bo_react_test/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from\"axios\";import config from\"../../config\";import{MAIN_PAGE,GLOBALS}from\"@constants\";import{saveState}from\"@helpers/storage/storeLocalData\";const privateInstance=axios.create({baseURL:config.api_url});export const configurateToken=token=>{privateInstance.defaults.headers.common.Authorization=\"Bearer \".concat(token);};export const removeUserSession=function(){let navigateTo=arguments.length>0&&arguments[0]!==undefined?arguments[0]:MAIN_PAGE;window.location.href=navigateTo;const boState=window.localStorage[GLOBALS.local_state_name];saveState(GLOBALS.local_state_name,_objectSpread(_objectSpread({},JSON.parse(boState)),{},{auth:{}}));};privateInstance.interceptors.response.use(function(response){// refreshToken(response);\nreturn response;},function(error){if(error.response===undefined){removeUserSession();}else if(error.response.status===401){removeUserSession();}return Promise.reject(error);});export default privateInstance;","map":{"version":3,"names":["axios","config","MAIN_PAGE","GLOBALS","saveState","privateInstance","create","baseURL","api_url","configurateToken","token","defaults","headers","common","Authorization","concat","removeUserSession","navigateTo","arguments","length","undefined","window","location","href","boState","localStorage","local_state_name","_objectSpread","JSON","parse","auth","interceptors","response","use","error","status","Promise","reject"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/helpers/axios/private.axios.js"],"sourcesContent":["import axios from \"axios\";\nimport config from \"../../config\";\nimport { MAIN_PAGE, GLOBALS } from \"@constants\";\nimport { saveState } from \"@helpers/storage/storeLocalData\";\n\nconst privateInstance = axios.create({\n  baseURL: config.api_url,\n});\n\nexport const configurateToken = (token) => {\n  privateInstance.defaults.headers.common.Authorization = `Bearer ${token}`;\n};\n\nexport const removeUserSession = (navigateTo = MAIN_PAGE) => {\n  window.location.href = navigateTo;\n\n  const boState = window.localStorage[GLOBALS.local_state_name];\n  saveState(GLOBALS.local_state_name, { ...JSON.parse(boState), auth: {} });\n};\n\nprivateInstance.interceptors.response.use(\n  function (response) {\n    // refreshToken(response);\n    return response;\n  },\n  function (error) {\n    if (error.response === undefined) {\n      removeUserSession();\n    } else if (error.response.status === 401) {\n      removeUserSession();\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default privateInstance;\n"],"mappings":"uIAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,cAAc,CACjC,OAASC,SAAS,CAAEC,OAAO,KAAQ,YAAY,CAC/C,OAASC,SAAS,KAAQ,iCAAiC,CAE3D,KAAM,CAAAC,eAAe,CAAGL,KAAK,CAACM,MAAM,CAAC,CACnCC,OAAO,CAAEN,MAAM,CAACO,OAClB,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,gBAAgB,CAAIC,KAAK,EAAK,CACzCL,eAAe,CAACM,QAAQ,CAACC,OAAO,CAACC,MAAM,CAACC,aAAa,WAAAC,MAAA,CAAaL,KAAK,CAAE,CAC3E,CAAC,CAED,MAAO,MAAM,CAAAM,iBAAiB,CAAG,QAAAA,CAAA,CAA4B,IAA3B,CAAAC,UAAU,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGhB,SAAS,CACtDmB,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAGN,UAAU,CAEjC,KAAM,CAAAO,OAAO,CAAGH,MAAM,CAACI,YAAY,CAACtB,OAAO,CAACuB,gBAAgB,CAAC,CAC7DtB,SAAS,CAACD,OAAO,CAACuB,gBAAgB,CAAAC,aAAA,CAAAA,aAAA,IAAOC,IAAI,CAACC,KAAK,CAACL,OAAO,CAAC,MAAEM,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAC3E,CAAC,CAEDzB,eAAe,CAAC0B,YAAY,CAACC,QAAQ,CAACC,GAAG,CACvC,SAAUD,QAAQ,CAAE,CAClB;AACA,MAAO,CAAAA,QAAQ,CACjB,CAAC,CACD,SAAUE,KAAK,CAAE,CACf,GAAIA,KAAK,CAACF,QAAQ,GAAKZ,SAAS,CAAE,CAChCJ,iBAAiB,CAAC,CAAC,CACrB,CAAC,IAAM,IAAIkB,KAAK,CAACF,QAAQ,CAACG,MAAM,GAAK,GAAG,CAAE,CACxCnB,iBAAiB,CAAC,CAAC,CACrB,CACA,MAAO,CAAAoB,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC,CAC9B,CACF,CAAC,CAED,cAAe,CAAA7B,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
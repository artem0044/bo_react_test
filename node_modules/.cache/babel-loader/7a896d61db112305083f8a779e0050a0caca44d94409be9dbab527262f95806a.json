{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import moment from\"moment-timezone\";import{Box,Skeleton}from\"@mui/material\";import\"./index.sass\";import axios from\"@helpers/axios/private.axios\";import{useTranslation}from\"@helpers/translate\";import{FormattedNumber}from\"react-intl\";import{useSelector}from\"react-redux\";import\"moment/locale/ru\";import{convertToUserTimezone,getUserTimezone}from\"@helpers/timezone\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const openOrders=()=>{const[loading,setLoading]=useState(false);const[data,setData]=useState([]);const{__}=useTranslation();const{wallet:{active_wallet},localization:{locale}}=useSelector(state=>state);const getOpenOrders=async()=>{try{setLoading(true);const resp=await axios.get(\"/bid/history/active\");setData(resp.data.data);setLoading(false);}catch(e){console.error(e);}};useEffect(()=>{getOpenOrders();},[active_wallet]);return/*#__PURE__*/_jsx(Box,{sx:{overflowX:\"auto\"},children:/*#__PURE__*/_jsxs(Box,{sx:{minWidth:780},className:\"table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table__tr table__tr--head\",children:[/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 29.5%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:__(\"history.asset\")})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 22.2%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:__(\"history.total\")})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 19.5%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:__(\"history.investments\")})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 18%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:__(\"history.expiration_time\")})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 10.8%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:__(\"history.countdown_time\")})})]}),loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"table__tr\",children:/*#__PURE__*/_jsx(Skeleton,{className:\"table__skeleton\",variant:\"rounded\",width:\"100%\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"table__tr\",children:/*#__PURE__*/_jsx(Skeleton,{className:\"table__skeleton\",variant:\"rounded\",width:\"100%\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"table__tr\",children:/*#__PURE__*/_jsx(Skeleton,{className:\"table__skeleton\",variant:\"rounded\",width:\"100%\"})})]}):data.length?data.map(el=>/*#__PURE__*/_jsxs(\"div\",{className:\"table__tr\",children:[/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 29.5%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:el.pair_name})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 22.2%\"},className:\"table__td\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"table__text\",children:[\"+\",el.total_amount-el.contribution,\"$\",\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",el.payout,\"%)\"]})]})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 19.5%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:/*#__PURE__*/_jsx(FormattedNumber,{value:el.contribution,style:\"currency\",currency:\"USD\"})})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 18%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:convertToUserTimezone(el.closing_at,\"YYYY-MM-DD HH:mm:ss\")})}),/*#__PURE__*/_jsx(Box,{sx:{flex:\"0 0 10.8%\"},className:\"table__td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"table__text\",children:moment.utc(el.closing_at).tz(getUserTimezone()).lang(locale).fromNow(true)})})]},el.id)):/*#__PURE__*/_jsx(\"p\",{children:__(\"common.not_found\")})]})});};export default openOrders;","map":{"version":3,"names":["React","useEffect","useState","moment","Box","Skeleton","axios","useTranslation","FormattedNumber","useSelector","convertToUserTimezone","getUserTimezone","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","openOrders","loading","setLoading","data","setData","__","wallet","active_wallet","localization","locale","state","getOpenOrders","resp","get","e","console","error","sx","overflowX","children","minWidth","className","flex","variant","width","length","map","el","pair_name","total_amount","contribution","payout","value","style","currency","closing_at","utc","tz","lang","fromNow","id"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/pages/History/components/OpenOrders/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport moment from \"moment-timezone\";\nimport { Box, Skeleton } from \"@mui/material\";\nimport \"./index.sass\";\nimport axios from \"@helpers/axios/private.axios\";\nimport { useTranslation } from \"@helpers/translate\";\nimport { FormattedNumber } from \"react-intl\";\nimport { useSelector } from \"react-redux\";\nimport \"moment/locale/ru\";\nimport {convertToUserTimezone, getUserTimezone} from \"@helpers/timezone\";\n\nconst openOrders = () => {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const { __ } = useTranslation();\n  const {\n    wallet: { active_wallet },\n    localization: { locale },\n  } = useSelector((state) => state);\n\n  const getOpenOrders = async () => {\n    try {\n      setLoading(true);\n      const resp = await axios.get(\"/bid/history/active\");\n      setData(resp.data.data);\n      setLoading(false);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  useEffect(() => {\n    getOpenOrders();\n  }, [active_wallet]);\n\n  return (\n    <Box sx={{ overflowX: \"auto\" }}>\n      <Box sx={{ minWidth: 780 }} className=\"table\">\n        <div className=\"table__tr table__tr--head\">\n          <Box\n            sx={{\n              flex: \"0 0 29.5%\",\n            }}\n            className=\"table__td\"\n          >\n            <p className=\"table__text\">{__(\"history.asset\")}</p>\n          </Box>\n          <Box\n            sx={{\n              flex: \"0 0 22.2%\",\n            }}\n            className=\"table__td\"\n          >\n            <p className=\"table__text\">{__(\"history.total\")}</p>\n          </Box>\n          <Box\n            sx={{\n              flex: \"0 0 19.5%\",\n            }}\n            className=\"table__td\"\n          >\n            <p className=\"table__text\">{__(\"history.investments\")}</p>\n          </Box>\n          <Box\n            sx={{\n              flex: \"0 0 18%\",\n            }}\n            className=\"table__td\"\n          >\n            <p className=\"table__text\">{__(\"history.expiration_time\")}</p>\n          </Box>\n          <Box\n            sx={{\n              flex: \"0 0 10.8%\",\n            }}\n            className=\"table__td\"\n          >\n            <p className=\"table__text\">{__(\"history.countdown_time\")}</p>\n          </Box>\n        </div>\n\n        {loading ? (\n          <>\n            <div className=\"table__tr\">\n              <Skeleton\n                className=\"table__skeleton\"\n                variant=\"rounded\"\n                width=\"100%\"\n              />\n            </div>\n            <div className=\"table__tr\">\n              <Skeleton\n                className=\"table__skeleton\"\n                variant=\"rounded\"\n                width=\"100%\"\n              />\n            </div>\n            <div className=\"table__tr\">\n              <Skeleton\n                className=\"table__skeleton\"\n                variant=\"rounded\"\n                width=\"100%\"\n              />\n            </div>\n          </>\n        ) : data.length ? (\n          data.map((el) => (\n            <div key={el.id} className=\"table__tr\">\n              <Box\n                sx={{\n                  flex: \"0 0 29.5%\",\n                }}\n                className=\"table__td\"\n              >\n                <p className=\"table__text\">{el.pair_name}</p>\n              </Box>\n              <Box\n                sx={{\n                  flex: \"0 0 22.2%\",\n                }}\n                className=\"table__td\"\n              >\n                <p className=\"table__text\">\n                  +{el.total_amount - el.contribution}${\" \"}\n                  <span>({el.payout}%)</span>\n                </p>\n              </Box>\n              <Box\n                sx={{\n                  flex: \"0 0 19.5%\",\n                }}\n                className=\"table__td\"\n              >\n                <p className=\"table__text\">\n                  <FormattedNumber\n                    value={el.contribution}\n                    style=\"currency\"\n                    currency=\"USD\"\n                  />\n                </p>\n              </Box>\n              <Box\n                sx={{\n                  flex: \"0 0 18%\",\n                }}\n                className=\"table__td\"\n              >\n                <p className=\"table__text\">{convertToUserTimezone(el.closing_at, \"YYYY-MM-DD HH:mm:ss\")}</p>\n              </Box>\n              <Box\n                sx={{\n                  flex: \"0 0 10.8%\",\n                }}\n                className=\"table__td\"\n              >\n                <p className=\"table__text\">\n                  {moment.utc(el.closing_at).tz(getUserTimezone()).lang(locale).fromNow(true)}\n                </p>\n              </Box>\n            </div>\n          ))\n        ) : (\n          <p>{__(\"common.not_found\")}</p>\n        )}\n      </Box>\n    </Box>\n  );\n};\n\nexport default openOrders;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
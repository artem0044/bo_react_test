{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useTranslation}from\"@helpers/translate\";import{Helmet}from\"react-helmet\";import{Quotes}from\"@components/pages/Futures/components/Quotes\";import{OrderBook}from\"@components/pages/Futures/components/OrderBook\";import{useDispatch,useSelector}from\"react-redux\";import{getTickerData,subscribeToFutureSockets}from\"@actions/futures/futureData\";import{Orders}from\"@components/pages/Futures/components/Orders\";// import {changeWallet} from \"@actions\";\nimport useMediaQuery from\"@mui/material/useMediaQuery\";import{useTheme}from\"@mui/material/styles\";import{Controls}from\"@components/pages/Futures/components/Controls\";import FuturesWidget from\"@components/pages/Futures/components/FuturesWidget\";import{FuturesNotification}from\"@components/pages/Futures/components/FuturesNotification\";// import {WALLET_TYPE} from \"../../../constants\";\nimport\"./Futures.sass\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export const Futures=()=>{const{__}=useTranslation();const dispatch=useDispatch();const{pair,tickerData}=useSelector(state=>state.futures);const[activeTab,setActiveTab]=useState(\"chart\");const theme=useTheme();const isDesktop=useMediaQuery(theme.breakpoints.up(\"md\"));useEffect(()=>{let cleanUpWebSocket=()=>{};const fetchAndSubscribe=async()=>{dispatch(getTickerData());cleanUpWebSocket=await dispatch(subscribeToFutureSockets());};fetchAndSubscribe();return()=>{cleanUpWebSocket();};},[pair.slug]);// const changeOnFutureWallet = async () => {\n//   if (active_wallet.type === WALLET_TYPE.REAL) {\n//     const wallet = wallets.find((item) => item.type === WALLET_TYPE.REAL_FUTURES);\n//     await dispatch(changeWallet(wallet));\n//   }\n//\n//   if (active_wallet.type === WALLET_TYPE.DEMO) {\n//     const wallet = wallets.find((item) => item.type === WALLET_TYPE.DEMO_FUTURES);\n//     await dispatch(changeWallet(wallet));\n//   }\n// }\n//\n// useEffect(() => {\n//   changeOnFutureWallet();\n// }, [active_wallet.type]);\nconst tabs=[{id:\"chart\",label:__(\"futures.chart\")},{id:\"order_book\",label:__(\"futures.order_book\")}];return/*#__PURE__*/_jsxs(\"div\",{className:\"futures\",children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsxs(\"title\",{children:[tickerData&&pair?\"\".concat(tickerData.lastPrice,\" | \").concat(pair.slug):\"Loading...\",__(\"seo.divider\"),\" \",__(\"seo.title\")]})}),/*#__PURE__*/_jsx(FuturesNotification,{}),/*#__PURE__*/_jsx(Quotes,{}),!isDesktop&&/*#__PURE__*/_jsx(\"ul\",{className:\"mainTabs__tabs\",children:tabs.map(tab=>/*#__PURE__*/_jsx(\"li\",{className:\"mainTabs__tab-item\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"mainTabs__tab \".concat(activeTab===tab.id?\"mainTabs__tab--active\":\"\"),onClick:()=>setActiveTab(tab.id),children:tab.label})},tab.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"futures__content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"futures__chart future-tab\".concat(activeTab==='chart'?' future-tab--active':''),children:/*#__PURE__*/_jsx(FuturesWidget,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"futures__order future-tab\".concat(activeTab==='order_book'?' future-tab--active':''),children:/*#__PURE__*/_jsx(OrderBook,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"futures__controls\",children:/*#__PURE__*/_jsx(Controls,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"futures__orders\",children:/*#__PURE__*/_jsx(Orders,{})})]})]});};export default Futures;","map":{"version":3,"names":["React","useEffect","useState","useTranslation","Helmet","Quotes","OrderBook","useDispatch","useSelector","getTickerData","subscribeToFutureSockets","Orders","useMediaQuery","useTheme","Controls","FuturesWidget","FuturesNotification","jsxs","_jsxs","jsx","_jsx","Futures","__","dispatch","pair","tickerData","state","futures","activeTab","setActiveTab","theme","isDesktop","breakpoints","up","cleanUpWebSocket","fetchAndSubscribe","slug","tabs","id","label","className","children","concat","lastPrice","map","tab","type","onClick"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/pages/Futures/index.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"@helpers/translate\";\nimport {Helmet} from \"react-helmet\";\nimport {Quotes} from \"@components/pages/Futures/components/Quotes\";\nimport {OrderBook} from \"@components/pages/Futures/components/OrderBook\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getTickerData, subscribeToFutureSockets} from \"@actions/futures/futureData\";\nimport {Orders} from \"@components/pages/Futures/components/Orders\";\n// import {changeWallet} from \"@actions\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\nimport {useTheme} from \"@mui/material/styles\";\nimport {Controls} from \"@components/pages/Futures/components/Controls\";\nimport FuturesWidget from \"@components/pages/Futures/components/FuturesWidget\";\nimport {FuturesNotification} from \"@components/pages/Futures/components/FuturesNotification\";\n// import {WALLET_TYPE} from \"../../../constants\";\nimport \"./Futures.sass\";\n\nexport const Futures = () => {\n  const {__} = useTranslation();\n  const dispatch = useDispatch();\n  const {pair, tickerData} = useSelector((state) => state.futures);\n  const [activeTab, setActiveTab] = useState(\"chart\");\n  const theme = useTheme();\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"md\"));\n\n  useEffect(() => {\n    let cleanUpWebSocket = () => {\n    };\n\n    const fetchAndSubscribe = async () => {\n      dispatch(getTickerData());\n      cleanUpWebSocket = await dispatch(subscribeToFutureSockets());\n    };\n\n    fetchAndSubscribe();\n\n    return () => {\n      cleanUpWebSocket();\n    };\n  }, [pair.slug]);\n\n  // const changeOnFutureWallet = async () => {\n  //   if (active_wallet.type === WALLET_TYPE.REAL) {\n  //     const wallet = wallets.find((item) => item.type === WALLET_TYPE.REAL_FUTURES);\n  //     await dispatch(changeWallet(wallet));\n  //   }\n  //\n  //   if (active_wallet.type === WALLET_TYPE.DEMO) {\n  //     const wallet = wallets.find((item) => item.type === WALLET_TYPE.DEMO_FUTURES);\n  //     await dispatch(changeWallet(wallet));\n  //   }\n  // }\n  //\n  // useEffect(() => {\n  //   changeOnFutureWallet();\n  // }, [active_wallet.type]);\n\n\n  const tabs = [{id: \"chart\", label: __(\"futures.chart\")}, {id: \"order_book\", label: __(\"futures.order_book\")}];\n\n  return (<div className=\"futures\">\n    <Helmet>\n      <title>\n        {tickerData && pair ? (`${tickerData.lastPrice} | ${pair.slug}`) : \"Loading...\"}\n        {__(\"seo.divider\")} {__(\"seo.title\")}\n      </title>\n    </Helmet>\n\n    <FuturesNotification/>\n    <Quotes/>\n\n    {!isDesktop &&\n      <ul className=\"mainTabs__tabs\">\n        {tabs.map((tab) => (<li key={tab.id} className=\"mainTabs__tab-item\">\n          <button\n            type=\"button\"\n            className={`mainTabs__tab ${activeTab === tab.id ? \"mainTabs__tab--active\" : \"\"}`}\n            onClick={() => setActiveTab(tab.id)}\n          >\n            {tab.label}\n          </button>\n        </li>))}\n      </ul>}\n    <div className=\"futures__content\">\n      <div className={`futures__chart future-tab${activeTab === 'chart' ? ' future-tab--active' : ''}`}>\n        <FuturesWidget/>\n      </div>\n      <div className={`futures__order future-tab${activeTab === 'order_book' ? ' future-tab--active' : ''}`}>\n        <OrderBook/>\n      </div>\n      <div className=\"futures__controls\">\n        <Controls/>\n      </div>\n      <div className=\"futures__orders\">\n        <Orders/>\n      </div>\n      {/*<div className={`futures__trades future-tab${activeTab === 'trades' ? ' future-tab--active' : ''}`}>*/}\n      {/*  <div className=\"futuresTrades\">*/}\n      {/*    <div className=\"futuresTrades__head\">*/}\n      {/*      <p className=\"futuresTrades__head-title\">Trades</p>*/}\n      {/*    </div>*/}\n\n      {/*    <div className=\"futuresTrades__table\">*/}\n      {/*      <div className=\"futuresTrades__table-head\">*/}\n      {/*        <div className=\"futuresTrades__table-tr\">*/}\n      {/*          <div className=\"futuresTrades__table-td\"><p className=\"futuresTrades__text\">Price (USD)</p></div>*/}\n      {/*          <div className=\"futuresTrades__table-td\"><p className=\"futuresTrades__text\">Amount (BTC)</p></div>*/}\n      {/*          <div className=\"futuresTrades__table-td\"><p className=\"futuresTrades__text\">Time</p></div>*/}\n      {/*        </div>*/}\n      {/*      </div>*/}\n\n      {/*      <div className=\"futuresTrades__table-body\">*/}\n      {/*        <div className=\"futuresTrades__table-tr\">*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value futuresTrades__table-value--red\">92,009.00</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">0.2</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">13:37:04</span>*/}\n      {/*          </div>*/}\n      {/*        </div>*/}\n      {/*        <div className=\"futuresTrades__table-tr\">*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value futuresTrades__table-value--red\">92,009.00</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">0.2</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">13:37:04</span>*/}\n      {/*          </div>*/}\n      {/*        </div>*/}\n      {/*        <div className=\"futuresTrades__table-tr\">*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value futuresTrades__table-value--green\">92,009.00</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">0.2</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">13:37:04</span>*/}\n      {/*          </div>*/}\n      {/*        </div>*/}\n      {/*        <div className=\"futuresTrades__table-tr\">*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value futuresTrades__table-value--red\">92,009.00</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">0.2</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">13:37:04</span>*/}\n      {/*          </div>*/}\n      {/*        </div>*/}\n      {/*        <div className=\"futuresTrades__table-tr\">*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value futuresTrades__table-value--red\">92,009.00</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">0.2</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">13:37:04</span>*/}\n      {/*          </div>*/}\n      {/*        </div>*/}\n      {/*        <div className=\"futuresTrades__table-tr\">*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value futuresTrades__table-value--red\">92,009.00</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">0.2</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">13:37:04</span>*/}\n      {/*          </div>*/}\n      {/*        </div>*/}\n      {/*        <div className=\"futuresTrades__table-tr\">*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value futuresTrades__table-value--red\">92,009.00</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">0.2</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">13:37:04</span>*/}\n      {/*          </div>*/}\n      {/*        </div>*/}\n      {/*        <div className=\"futuresTrades__table-tr\">*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value futuresTrades__table-value--red\">92,009.00</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">0.2</span>*/}\n      {/*          </div>*/}\n      {/*          <div className=\"futuresTrades__table-td\">*/}\n      {/*            <span className=\"futuresTrades__table-value\">13:37:04</span>*/}\n      {/*          </div>*/}\n      {/*        </div>*/}\n      {/*      </div>*/}\n      {/*    </div>*/}\n      {/*  </div>*/}\n      {/*</div>*/}\n    </div>\n  </div>);\n};\n\nexport default Futures;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
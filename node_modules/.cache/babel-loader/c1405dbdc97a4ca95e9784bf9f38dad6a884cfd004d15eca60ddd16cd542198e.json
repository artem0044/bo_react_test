{"ast":null,"code":"import React,{useEffect,useMemo}from\"react\";import{formatNumber}from\"@helpers/formatNumber\";import'./index.sass';import{useDispatch,useSelector}from\"react-redux\";import{getOrderBookData}from\"@actions/futures\";import useMediaQuery from\"@mui/material/useMediaQuery\";import{useTheme}from\"@mui/material/styles\";import{useTranslation}from\"@helpers/translate\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const OrderBook=()=>{var _orderBook$asks,_orderBook$asks$slice,_orderBook$bids,_orderBook$bids$slice;const{price,orderBookLoading,orderBook,tickersLoading}=useSelector(state=>state.futures);const dispatch=useDispatch();const{pair}=useSelector(state=>state.futures);const theme=useTheme();const isXl=useMediaQuery(theme.breakpoints.up(\"xl\"));const isTablet=useMediaQuery(theme.breakpoints.up(\"lg\"));const isMobile=useMediaQuery(theme.breakpoints.down(\"md\"));const{__}=useTranslation();useEffect(()=>{dispatch(getOrderBookData(pair.slug));},[pair.slug]);const decimals=useMemo(()=>{return Math.max(0,Math.log10(pair.pricescale));},[pair.pricescale]);return/*#__PURE__*/_jsxs(\"div\",{className:\"orderBook\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"orderBook__head\",children:__(\"futures.order_book\")}),!orderBookLoading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"orderBook__table\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-head\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"orderBook__table-tr\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-td\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"orderBook__text\",children:[__(\"futures.price\"),\" (USDT)\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"orderBook__text\",children:__(\"futures.size\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"orderBook__text\",children:__(\"futures.total\")})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-body\",children:orderBook===null||orderBook===void 0?void 0:(_orderBook$asks=orderBook.asks)===null||_orderBook$asks===void 0?void 0:(_orderBook$asks$slice=_orderBook$asks.slice(0,isXl||isMobile?9:isTablet?7:3).reverse())===null||_orderBook$asks$slice===void 0?void 0:_orderBook$asks$slice.map((_ref,index)=>{let[price,qty]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"orderBook__table-tr\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-td\",children:/*#__PURE__*/_jsx(\"span\",{className:\"orderBook__table-value orderBook__table-value--red\",children:parseFloat(price).toFixed(decimals)})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-td\",children:/*#__PURE__*/_jsx(\"span\",{className:\"orderBook__table-value\",children:formatNumber(parseFloat(qty))})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-td\",children:/*#__PURE__*/_jsx(\"span\",{className:\"orderBook__table-value\",children:formatNumber(parseFloat(price)*parseFloat(qty))})})]},index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__middle\",children:/*#__PURE__*/_jsx(\"span\",{className:\"orderBook__middle-value\",children:!tickersLoading&&parseFloat(price).toFixed(decimals)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderBook__table\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-head\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"orderBook__table-tr\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-td\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"orderBook__text\",children:[__(\"futures.price\"),\" (USDT)\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"orderBook__text\",children:__(\"futures.size\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-td\",children:/*#__PURE__*/_jsx(\"p\",{className:\"orderBook__text\",children:__(\"futures.total\")})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-body\",children:orderBook===null||orderBook===void 0?void 0:(_orderBook$bids=orderBook.bids)===null||_orderBook$bids===void 0?void 0:(_orderBook$bids$slice=_orderBook$bids.slice(0,isXl||isMobile?8:isTablet?7:3))===null||_orderBook$bids$slice===void 0?void 0:_orderBook$bids$slice.map((_ref2,index)=>{let[price,qty]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"orderBook__table-tr\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-td\",children:/*#__PURE__*/_jsx(\"span\",{className:\"orderBook__table-value orderBook__table-value--green\",children:parseFloat(price).toFixed(decimals)})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-td\",children:/*#__PURE__*/_jsx(\"span\",{className:\"orderBook__table-value\",children:formatNumber(parseFloat(qty))})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderBook__table-td\",children:/*#__PURE__*/_jsx(\"span\",{className:\"orderBook__table-value\",children:formatNumber(parseFloat(price)*parseFloat(qty))})})]},index);})})]})]})]});};","map":{"version":3,"names":["React","useEffect","useMemo","formatNumber","useDispatch","useSelector","getOrderBookData","useMediaQuery","useTheme","useTranslation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OrderBook","_orderBook$asks","_orderBook$asks$slice","_orderBook$bids","_orderBook$bids$slice","price","orderBookLoading","orderBook","tickersLoading","state","futures","dispatch","pair","theme","isXl","breakpoints","up","isTablet","isMobile","down","__","slug","decimals","Math","max","log10","pricescale","className","children","asks","slice","reverse","map","_ref","index","qty","parseFloat","toFixed","bids","_ref2"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/pages/Futures/components/OrderBook/index.jsx"],"sourcesContent":["import React, {useEffect, useMemo} from \"react\";\nimport {formatNumber} from \"@helpers/formatNumber\"\nimport './index.sass';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getOrderBookData} from \"@actions/futures\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\nimport {useTheme} from \"@mui/material/styles\";\nimport {useTranslation} from \"@helpers/translate\";\n\nexport const OrderBook = () => {\n  const {price, orderBookLoading, orderBook, tickersLoading} = useSelector(state => state.futures);\n  const dispatch = useDispatch();\n  const {pair} = useSelector((state) => state.futures);\n  const theme = useTheme();\n  const isXl = useMediaQuery(theme.breakpoints.up(\"xl\"));\n  const isTablet = useMediaQuery(theme.breakpoints.up(\"lg\"));\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\n  const {__} = useTranslation();\n  \n  useEffect(() => {\n    dispatch(getOrderBookData(pair.slug));\n  }, [pair.slug]);\n\n  const decimals = useMemo(() => {\n    return  Math.max(0, Math.log10(pair.pricescale))\n  }, [pair.pricescale]);\n  \n  return (<div className=\"orderBook\">\n    <p className=\"orderBook__head\">{__(\"futures.order_book\")}</p>\n\n    {!orderBookLoading && (<>\n      <div className=\"orderBook__table\">\n        <div className=\"orderBook__table-head\">\n          <div className=\"orderBook__table-tr\">\n            <div className=\"orderBook__table-td\">\n              <p className=\"orderBook__text\">{__(\"futures.price\")} (USDT)</p>\n            </div>\n            <div className=\"orderBook__table-td\">\n              <p className=\"orderBook__text\">{__(\"futures.size\")}</p>\n            </div>\n            <div className=\"orderBook__table-td\">\n              <p className=\"orderBook__text\">{__(\"futures.total\")}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"orderBook__table-body\">\n          {orderBook?.asks?.slice(0, (isXl || isMobile) ? 9 : isTablet ? 7 : 3).reverse()?.map(([price, qty], index) => (<div className=\"orderBook__table-tr\" key={index}>\n            <div className=\"orderBook__table-td\">\n                  <span\n                    className=\"orderBook__table-value orderBook__table-value--red\">{parseFloat(price).toFixed(decimals)}</span>\n            </div>\n            <div className=\"orderBook__table-td\">\n              <span className=\"orderBook__table-value\">{formatNumber(parseFloat(qty))}</span>\n            </div>\n            <div className=\"orderBook__table-td\">\n              <span className=\"orderBook__table-value\">{formatNumber(parseFloat(price) * parseFloat(qty))}</span>\n            </div>\n          </div>))}\n        </div>\n      </div>\n      <div className=\"orderBook__middle\">\n        <span className=\"orderBook__middle-value\">{!tickersLoading && parseFloat(price).toFixed(decimals)}</span>\n      </div>\n      <div className=\"orderBook__table\">\n        <div className=\"orderBook__table-head\">\n          <div className=\"orderBook__table-tr\">\n            <div className=\"orderBook__table-td\">\n              <p className=\"orderBook__text\">{__(\"futures.price\")} (USDT)</p>\n            </div>\n            <div className=\"orderBook__table-td\">\n              <p className=\"orderBook__text\">{__(\"futures.size\")}</p>\n            </div>\n            <div className=\"orderBook__table-td\">\n              <p className=\"orderBook__text\">{__(\"futures.total\")}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"orderBook__table-body\">\n          {orderBook?.bids?.slice(0, (isXl || isMobile) ? 8 : isTablet ? 7 : 3)?.map(([price, qty], index) => (<div className=\"orderBook__table-tr\" key={index}>\n            <div className=\"orderBook__table-td\">\n                  <span\n                    className=\"orderBook__table-value orderBook__table-value--green\">{parseFloat(price).toFixed(decimals)}</span>\n            </div>\n            <div className=\"orderBook__table-td\">\n              <span className=\"orderBook__table-value\">{formatNumber(parseFloat(qty))}</span>\n            </div>\n            <div className=\"orderBook__table-td\">\n              <span className=\"orderBook__table-value\">{formatNumber((parseFloat(price) * parseFloat(qty)))}</span>\n            </div>\n          </div>))}\n        </div>\n      </div>\n    </>)}\n  </div>)\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
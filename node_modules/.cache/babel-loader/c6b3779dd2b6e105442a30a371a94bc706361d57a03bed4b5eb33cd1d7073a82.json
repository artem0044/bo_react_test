{"ast":null,"code":"import React,{useEffect}from\"react\";import{PreviewLoader}from\"@components/library\";import{useNavigate,useParams,useSearchParams}from\"react-router-dom\";import{AUTH_SIGN_UP,MAIN_PAGE,TRY_DEMO}from\"../../../constants\";import axios from\"@helpers/axios/public.axios\";import{saveState}from\"@helpers/storage/storeLocalData\";import{jsx as _jsx}from\"react/jsx-runtime\";export const AffiliateLink=()=>{const{hash}=useParams();const navigate=useNavigate();const[searchParams]=useSearchParams();useEffect(()=>{const partnershipInit=async()=>{try{const target=searchParams.get(\"target\");const resp=await axios.post(\"/partnership-init\",{p_hash:hash,target});saveState(\"p_hash\",hash);saveState(\"p_id\",resp.data.data.id);if(target){if(target===\"register\"){navigate(AUTH_SIGN_UP);}if(target===\"site\"){navigate(MAIN_PAGE);}if(target===\"demo\"){navigate(TRY_DEMO);}}}catch(e){navigate(AUTH_SIGN_UP,{replace:true});}};partnershipInit();});return/*#__PURE__*/_jsx(PreviewLoader,{loading:true});};","map":{"version":3,"names":["React","useEffect","PreviewLoader","useNavigate","useParams","useSearchParams","AUTH_SIGN_UP","MAIN_PAGE","TRY_DEMO","axios","saveState","jsx","_jsx","AffiliateLink","hash","navigate","searchParams","partnershipInit","target","get","resp","post","p_hash","data","id","e","replace","loading"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/pages/AffiliateLink/index.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { PreviewLoader } from \"@components/library\";\nimport { useNavigate, useParams, useSearchParams } from \"react-router-dom\";\nimport { AUTH_SIGN_UP, MAIN_PAGE, TRY_DEMO } from \"../../../constants\";\nimport axios from \"@helpers/axios/public.axios\";\nimport { saveState } from \"@helpers/storage/storeLocalData\";\n\nexport const AffiliateLink = () => {\n  const { hash } = useParams();\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n\n  useEffect(() => {\n    const partnershipInit = async () => {\n      try {\n        const target = searchParams.get(\"target\");\n\n        const resp = await axios.post(\"/partnership-init\", {\n          p_hash: hash,\n          target,\n        });\n\n        saveState(\"p_hash\", hash);\n        saveState(\"p_id\", resp.data.data.id);\n\n        if (target) {\n          if (target === \"register\") {\n            navigate(AUTH_SIGN_UP);\n          }\n          if (target === \"site\") {\n            navigate(MAIN_PAGE);\n          }\n          if (target === \"demo\") {\n            navigate(TRY_DEMO);\n          }\n        }\n      } catch (e) {\n        navigate(AUTH_SIGN_UP, { replace: true });\n      }\n    };\n    partnershipInit();\n  });\n\n  return <PreviewLoader loading={true} />;\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,aAAa,KAAQ,qBAAqB,CACnD,OAASC,WAAW,CAAEC,SAAS,CAAEC,eAAe,KAAQ,kBAAkB,CAC1E,OAASC,YAAY,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,oBAAoB,CACtE,MAAO,CAAAC,KAAK,KAAM,6BAA6B,CAC/C,OAASC,SAAS,KAAQ,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5D,MAAO,MAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAEC,IAAK,CAAC,CAAGV,SAAS,CAAC,CAAC,CAC5B,KAAM,CAAAW,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACa,YAAY,CAAC,CAAGX,eAAe,CAAC,CAAC,CAExCJ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAAC,MAAM,CAAGF,YAAY,CAACG,GAAG,CAAC,QAAQ,CAAC,CAEzC,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAX,KAAK,CAACY,IAAI,CAAC,mBAAmB,CAAE,CACjDC,MAAM,CAAER,IAAI,CACZI,MACF,CAAC,CAAC,CAEFR,SAAS,CAAC,QAAQ,CAAEI,IAAI,CAAC,CACzBJ,SAAS,CAAC,MAAM,CAAEU,IAAI,CAACG,IAAI,CAACA,IAAI,CAACC,EAAE,CAAC,CAEpC,GAAIN,MAAM,CAAE,CACV,GAAIA,MAAM,GAAK,UAAU,CAAE,CACzBH,QAAQ,CAACT,YAAY,CAAC,CACxB,CACA,GAAIY,MAAM,GAAK,MAAM,CAAE,CACrBH,QAAQ,CAACR,SAAS,CAAC,CACrB,CACA,GAAIW,MAAM,GAAK,MAAM,CAAE,CACrBH,QAAQ,CAACP,QAAQ,CAAC,CACpB,CACF,CACF,CAAE,MAAOiB,CAAC,CAAE,CACVV,QAAQ,CAACT,YAAY,CAAE,CAAEoB,OAAO,CAAE,IAAK,CAAC,CAAC,CAC3C,CACF,CAAC,CACDT,eAAe,CAAC,CAAC,CACnB,CAAC,CAAC,CAEF,mBAAOL,IAAA,CAACV,aAAa,EAACyB,OAAO,CAAE,IAAK,CAAE,CAAC,CACzC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
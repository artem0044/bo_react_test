{"ast":null,"code":"import _objectSpread from\"/Users/admin/Desktop/untitled folder/bo_react_test/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{Autocomplete,MenuItem,Popper,TextField}from\"@mui/material\";import{useTranslation}from\"@helpers/translate\";import moment from\"moment-timezone\";import{getUserTimezone}from\"@helpers/timezone\";import\"moment/locale/ru\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Timezone=()=>{const{__}=useTranslation();const[selectedTimezone,setSelectedTimezone]=useState(getUserTimezone());const timezones=moment.tz.names();const getTimezoneOffset=timezone=>{const offset=moment.tz(timezone).utcOffset()/60;const sign=offset>=0?\"+\":\"-\";return\"GMT\".concat(sign).concat(Math.abs(offset));};const handleChange=(event,newValue)=>{if(newValue){setSelectedTimezone(newValue);moment.tz.setDefault(newValue);localStorage.setItem(\"userTimezone\",newValue);}};const CustomPopper=props=>/*#__PURE__*/_jsx(Popper,_objectSpread(_objectSpread({},props),{},{className:\"\".concat(props.className,\" bo-select-content\")}));return/*#__PURE__*/_jsxs(\"div\",{className:\"g-settings__lang\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"g-settings__label\",children:[__(\"settings.time_zone\"),\":\"]}),/*#__PURE__*/_jsx(Autocomplete,{options:timezones,value:selectedTimezone,onChange:handleChange,getOptionLabel:option=>\"\".concat(option,\" (\").concat(getTimezoneOffset(option),\")\"),renderOption:(props,option)=>/*#__PURE__*/_jsxs(MenuItem,_objectSpread(_objectSpread({},props),{},{children:[option,\" (\",getTimezoneOffset(option),\")\"]})),renderInput:params=>/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{variant:\"outlined\"})),fullWidth:true,disableClearable:true,isOptionEqualToValue:(option,value)=>option===value,className:\"bo-select\",PopperComponent:CustomPopper})]});};export default Timezone;","map":{"version":3,"names":["React","useState","Autocomplete","MenuItem","Popper","TextField","useTranslation","moment","getUserTimezone","jsx","_jsx","jsxs","_jsxs","Timezone","__","selectedTimezone","setSelectedTimezone","timezones","tz","names","getTimezoneOffset","timezone","offset","utcOffset","sign","concat","Math","abs","handleChange","event","newValue","setDefault","localStorage","setItem","CustomPopper","props","_objectSpread","className","children","options","value","onChange","getOptionLabel","option","renderOption","renderInput","params","variant","fullWidth","disableClearable","isOptionEqualToValue","PopperComponent"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/pages/Settings/components/GlobalSettings/Timezone.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport {Autocomplete, MenuItem, Popper, TextField} from \"@mui/material\";\nimport { useTranslation } from \"@helpers/translate\";\nimport moment from \"moment-timezone\";\nimport { getUserTimezone } from \"@helpers/timezone\";\nimport \"moment/locale/ru\";\n\nexport const Timezone = () => {\n  const { __ } = useTranslation();\n  const [selectedTimezone, setSelectedTimezone] = useState(getUserTimezone());\n  const timezones = moment.tz.names();\n  \n  const getTimezoneOffset = (timezone) => {\n    const offset = moment.tz(timezone).utcOffset() / 60;\n    const sign = offset >= 0 ? \"+\" : \"-\";\n    return `GMT${sign}${Math.abs(offset)}`;\n  };\n\n  const handleChange = (event, newValue) => {\n    if (newValue) {\n      setSelectedTimezone(newValue);\n      moment.tz.setDefault(newValue);\n      localStorage.setItem(\"userTimezone\", newValue);\n    }\n  };\n\n  const CustomPopper = (props) => (\n    <Popper\n      {...props}\n      className={`${props.className} bo-select-content`}\n    />\n  );\n  \n  return (\n    <div className=\"g-settings__lang\">\n      <h2 className=\"g-settings__label\">{__(\"settings.time_zone\")}:</h2>\n\n      <Autocomplete\n        options={timezones}\n        value={selectedTimezone}\n        onChange={handleChange}\n        getOptionLabel={(option) => `${option} (${getTimezoneOffset(option)})`}\n        renderOption={(props, option) => (\n          <MenuItem {...props}>\n            {option} ({getTimezoneOffset(option)})\n          </MenuItem>\n        )}\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n          />\n        )}\n        fullWidth\n        disableClearable\n        isOptionEqualToValue={(option, value) => option === value}\n        className=\"bo-select\"\n        PopperComponent={CustomPopper}\n      />\n    </div>\n  );\n};\n\nexport default Timezone;\n"],"mappings":"uIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAAQC,YAAY,CAAEC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAO,eAAe,CACvE,OAASC,cAAc,KAAQ,oBAAoB,CACnD,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CACpC,OAASC,eAAe,KAAQ,mBAAmB,CACnD,MAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,MAAO,MAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAEC,EAAG,CAAC,CAAGR,cAAc,CAAC,CAAC,CAC/B,KAAM,CAACS,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGf,QAAQ,CAACO,eAAe,CAAC,CAAC,CAAC,CAC3E,KAAM,CAAAS,SAAS,CAAGV,MAAM,CAACW,EAAE,CAACC,KAAK,CAAC,CAAC,CAEnC,KAAM,CAAAC,iBAAiB,CAAIC,QAAQ,EAAK,CACtC,KAAM,CAAAC,MAAM,CAAGf,MAAM,CAACW,EAAE,CAACG,QAAQ,CAAC,CAACE,SAAS,CAAC,CAAC,CAAG,EAAE,CACnD,KAAM,CAAAC,IAAI,CAAGF,MAAM,EAAI,CAAC,CAAG,GAAG,CAAG,GAAG,CACpC,YAAAG,MAAA,CAAaD,IAAI,EAAAC,MAAA,CAAGC,IAAI,CAACC,GAAG,CAACL,MAAM,CAAC,EACtC,CAAC,CAED,KAAM,CAAAM,YAAY,CAAGA,CAACC,KAAK,CAAEC,QAAQ,GAAK,CACxC,GAAIA,QAAQ,CAAE,CACZd,mBAAmB,CAACc,QAAQ,CAAC,CAC7BvB,MAAM,CAACW,EAAE,CAACa,UAAU,CAACD,QAAQ,CAAC,CAC9BE,YAAY,CAACC,OAAO,CAAC,cAAc,CAAEH,QAAQ,CAAC,CAChD,CACF,CAAC,CAED,KAAM,CAAAI,YAAY,CAAIC,KAAK,eACzBzB,IAAA,CAACN,MAAM,CAAAgC,aAAA,CAAAA,aAAA,IACDD,KAAK,MACTE,SAAS,IAAAZ,MAAA,CAAKU,KAAK,CAACE,SAAS,sBAAqB,EACnD,CACF,CAED,mBACEzB,KAAA,QAAKyB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B1B,KAAA,OAAIyB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAAExB,EAAE,CAAC,oBAAoB,CAAC,CAAC,GAAC,EAAI,CAAC,cAElEJ,IAAA,CAACR,YAAY,EACXqC,OAAO,CAAEtB,SAAU,CACnBuB,KAAK,CAAEzB,gBAAiB,CACxB0B,QAAQ,CAAEb,YAAa,CACvBc,cAAc,CAAGC,MAAM,KAAAlB,MAAA,CAAQkB,MAAM,OAAAlB,MAAA,CAAKL,iBAAiB,CAACuB,MAAM,CAAC,KAAI,CACvEC,YAAY,CAAEA,CAACT,KAAK,CAAEQ,MAAM,gBAC1B/B,KAAA,CAACT,QAAQ,CAAAiC,aAAA,CAAAA,aAAA,IAAKD,KAAK,MAAAG,QAAA,EAChBK,MAAM,CAAC,IAAE,CAACvB,iBAAiB,CAACuB,MAAM,CAAC,CAAC,GACvC,GAAU,CACV,CACFE,WAAW,CAAGC,MAAM,eAClBpC,IAAA,CAACL,SAAS,CAAA+B,aAAA,CAAAA,aAAA,IACJU,MAAM,MACVC,OAAO,CAAC,UAAU,EACnB,CACD,CACFC,SAAS,MACTC,gBAAgB,MAChBC,oBAAoB,CAAEA,CAACP,MAAM,CAAEH,KAAK,GAAKG,MAAM,GAAKH,KAAM,CAC1DH,SAAS,CAAC,WAAW,CACrBc,eAAe,CAAEjB,YAAa,CAC/B,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAArB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import{Skeleton,Table,TableBody,TableCell,TableContainer,TableHead,TableRow}from\"@mui/material\";import React,{useEffect,useMemo,useState}from\"react\";import axios from\"@helpers/axios/private.axios\";import{useTranslation}from\"@helpers/translate\";import{useSelector}from\"react-redux\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const OrderHistory=_ref=>{let{hideOtherSymbols,data,setData}=_ref;const[loading,setLoading]=useState(false);const{__}=useTranslation();const{pair}=useSelector(state=>state.futures);const{wallet:{active_wallet}}=useSelector(state=>state);const getHistoryOrders=async()=>{try{setLoading(true);const resp=await axios.get(\"/futures/orders/history\");setData(resp.data.data);setLoading(false);}catch(e){console.error(e);}};useEffect(()=>{getHistoryOrders();},[active_wallet]);const filteredData=useMemo(()=>{return hideOtherSymbols?data.filter(order=>order.symbol===pair.slug):data;},[data,pair,hideOtherSymbols]);return/*#__PURE__*/_jsx(TableContainer,{sx:{maxHeight:240,overflow:'auto'},className:\"futuresOrdersTable\",children:/*#__PURE__*/_jsxs(Table,{stickyHeader:true,sx:{minWidth:708},children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",children:__(\"futures.time\")}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",children:__(\"futures.symbol\")}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",children:__(\"futures.type\")}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",children:__(\"futures.side\")}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",children:__(\"futures.price\")}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",children:__(\"futures.executed\")}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",children:__(\"futures.amount\")}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",align:\"right\",children:__(\"futures.status\")})]})}),/*#__PURE__*/_jsx(TableBody,{children:loading?Array.from({length:3}).map((_,index)=>/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:8,children:/*#__PURE__*/_jsx(Skeleton,{className:\"main-skeleton\",variant:\"rounded\",height:20,width:\"100%\"})})},index)):filteredData.length?/*#__PURE__*/_jsx(_Fragment,{children:filteredData.map((order,index)=>/*#__PURE__*/_jsxs(TableRow,{sx:{'&:last-child td, &:last-child th':{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__time\",children:order.created_at}),/*#__PURE__*/_jsxs(TableCell,{className:\"futuresOrdersTable__value\",children:[order.symbol,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"futuresOrdersTable__tag\",children:__(\"futures.perp\")})]}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__value\",children:order.type}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__value \".concat(order.side===\"Sell\"?\"futuresOrdersTable__value--red\":\"futuresOrdersTable__value--green\"),children:order.side}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__value\",children:order.price}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__value\",children:order.fill_price}),/*#__PURE__*/_jsxs(TableCell,{className:\"futuresOrdersTable__value\",children:[order.amount,\" USDT\"]}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__value\",align:\"right\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"futuresOrdersTable__button\".concat(order.status===\"Cancelled\"?' futuresOrdersTable__button--gray':''),children:order.status})})]},index))}):/*#__PURE__*/_jsx(\"p\",{className:\"futuresOrdersTable__notFound\",children:__(\"common.not_found\")})})]})});};","map":{"version":3,"names":["Skeleton","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","React","useEffect","useMemo","useState","axios","useTranslation","useSelector","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OrderHistory","_ref","hideOtherSymbols","data","setData","loading","setLoading","__","pair","state","futures","wallet","active_wallet","getHistoryOrders","resp","get","e","console","error","filteredData","filter","order","symbol","slug","sx","maxHeight","overflow","className","children","stickyHeader","minWidth","align","Array","from","length","map","_","index","colSpan","variant","height","width","border","created_at","type","concat","side","price","fill_price","amount","status"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/pages/Futures/components/Orders/OrderHistory.jsx"],"sourcesContent":["import {Skeleton, Table, TableBody, TableCell, TableContainer, TableHead, TableRow} from \"@mui/material\";\nimport React, {useEffect, useMemo, useState} from \"react\";\nimport axios from \"@helpers/axios/private.axios\";\nimport {useTranslation} from \"@helpers/translate\";\nimport {useSelector} from \"react-redux\";\n\nexport const OrderHistory = ({hideOtherSymbols, data, setData}) => {\n  const [loading, setLoading] = useState(false);\n  const {__} = useTranslation();\n  const {pair} = useSelector((state) => state.futures);\n  const {\n    wallet: { active_wallet },\n  } = useSelector((state) => state);\n  \n  const getHistoryOrders = async () => {\n    try {\n      setLoading(true);\n\n      const resp = await axios.get(`/futures/orders/history`);\n      setData(resp.data.data);\n      setLoading(false);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  useEffect(() => {\n    getHistoryOrders();\n  }, [active_wallet]);\n\n  const filteredData = useMemo(() => {\n    return hideOtherSymbols ? data.filter((order) => order.symbol === pair.slug) : data;\n  }, [data, pair, hideOtherSymbols]);\n\n  return (\n    <TableContainer sx={{maxHeight: 240, overflow: 'auto'}} className=\"futuresOrdersTable\">\n      <Table stickyHeader sx={{minWidth: 708}}>\n        <TableHead>\n          <TableRow>\n            <TableCell className=\"futuresOrdersTable__head-text\">{__(\"futures.time\")}</TableCell>\n            <TableCell className=\"futuresOrdersTable__head-text\">{__(\"futures.symbol\")}</TableCell>\n            <TableCell className=\"futuresOrdersTable__head-text\">{__(\"futures.type\")}</TableCell>\n            <TableCell className=\"futuresOrdersTable__head-text\">{__(\"futures.side\")}</TableCell>\n            <TableCell className=\"futuresOrdersTable__head-text\">{__(\"futures.price\")}</TableCell>\n            <TableCell className=\"futuresOrdersTable__head-text\">{__(\"futures.executed\")}</TableCell>\n            <TableCell className=\"futuresOrdersTable__head-text\">{__(\"futures.amount\")}</TableCell>\n            <TableCell className=\"futuresOrdersTable__head-text\" align=\"right\">\n              {__(\"futures.status\")}\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {loading ? (\n            Array.from({length: 3}).map((_, index) => (\n              <TableRow key={index}>\n                <TableCell colSpan={8}>\n                  <Skeleton\n                    className=\"main-skeleton\"\n                    variant=\"rounded\"\n                    height={20}\n                    width=\"100%\"\n                  />\n                </TableCell>\n              </TableRow>\n            ))\n          ) : filteredData.length ? (\n            <>\n              {filteredData.map((order, index) => (<TableRow\n                sx={{'&:last-child td, &:last-child th': {border: 0}}}\n                key={index}>\n                <TableCell className=\"futuresOrdersTable__time\">{order.created_at}</TableCell>\n                <TableCell className=\"futuresOrdersTable__value\">{order.symbol} <span\n                  className=\"futuresOrdersTable__tag\">{__(\"futures.perp\")}</span></TableCell>\n                <TableCell className=\"futuresOrdersTable__value\">{order.type}</TableCell>\n                <TableCell\n                  className={`futuresOrdersTable__value ${order.side === \"Sell\" ? \"futuresOrdersTable__value--red\" : \"futuresOrdersTable__value--green\"}`}\n                >\n                  {order.side}\n                </TableCell>\n                <TableCell className=\"futuresOrdersTable__value\">{order.price}</TableCell>\n                <TableCell className=\"futuresOrdersTable__value\">{order.fill_price}</TableCell>\n                <TableCell className=\"futuresOrdersTable__value\">{order.amount} USDT</TableCell>\n                <TableCell className=\"futuresOrdersTable__value\" align=\"right\">\n                  <button type=\"button\"\n                          className={`futuresOrdersTable__button${order.status === \"Cancelled\" ? ' futuresOrdersTable__button--gray' : ''}`}>{order.status}</button>\n                </TableCell>\n              </TableRow>))}\n            </>\n          ) : (\n            <p className=\"futuresOrdersTable__notFound\">{__(\"common.not_found\")}</p>\n          )}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
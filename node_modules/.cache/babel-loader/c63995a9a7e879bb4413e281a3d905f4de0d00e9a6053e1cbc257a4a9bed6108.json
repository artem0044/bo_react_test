{"ast":null,"code":"import React,{useState}from\"react\";import{Grid}from\"@mui/material\";import{Button}from\"@components/library\";import{useForm}from\"react-hook-form\";import Language from\"./Language\";import Timezone from\"./Timezone\";import Notification from\"./Notification\";import{useDispatch,useSelector}from\"react-redux\";import{updateUser}from\"@actions/user\";import\"./index.sass\";import{useTranslation}from\"@helpers/translate\";import{Helmet}from\"react-helmet\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const GlobalSettings=()=>{const{companyNews=0,withdrawal=0,deposit=0}=useSelector(state=>state.user.user);const{__}=useTranslation();console.log(companyNews,withdrawal,deposit);const{control,handleSubmit,formState,reset}=useForm({defaultValues:{companyNews:Boolean(Number(companyNews)),withdrawal:Boolean(Number(withdrawal)),deposit:Boolean(Number(deposit))}});const[loading,setLoading]=useState(false);const dispatch=useDispatch();let{isDirty}=formState;const handleFormSubmit=async formData=>{setLoading(true);const data={values:formData};await dispatch(updateUser({data}));reset(formData);isDirty=false;setLoading(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsxs(\"title\",{children:[__(\"seo.settings\"),\" \",__(\"seo.divider\"),\" \",__(\"seo.title\")]})}),/*#__PURE__*/_jsxs(\"form\",{className:\"g-settings settings\",onSubmit:handleSubmit(handleFormSubmit),children:[/*#__PURE__*/_jsx(\"header\",{className:\"settings__header\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"settings__title\",children:__(\"common.settings\")})}),/*#__PURE__*/_jsx(Language,{}),/*#__PURE__*/_jsx(Grid,{container:true,children:/*#__PURE__*/_jsxs(Grid,{item:true,xl:6,md:8,xs:12,children:[/*#__PURE__*/_jsx(Timezone,{}),/*#__PURE__*/_jsx(Notification,{control:control})]})}),/*#__PURE__*/_jsx(Button,{disabled:!isDirty,className:\"settings__btn\",color:\"orange\",size:\"middle\",type:\"submit\",isLoading:loading,children:__(\"settings.confirm\")})]})]});};export default/*#__PURE__*/React.memo(GlobalSettings);","map":{"version":3,"names":["React","useState","Grid","Button","useForm","Language","Timezone","Notification","useDispatch","useSelector","updateUser","useTranslation","Helmet","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","GlobalSettings","companyNews","withdrawal","deposit","state","user","__","console","log","control","handleSubmit","formState","reset","defaultValues","Boolean","Number","loading","setLoading","dispatch","isDirty","handleFormSubmit","formData","data","values","children","className","onSubmit","container","item","xl","md","xs","disabled","color","size","type","isLoading","memo"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/pages/Settings/components/GlobalSettings/index.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Grid } from \"@mui/material\";\nimport { Button } from \"@components/library\";\nimport { useForm } from \"react-hook-form\";\n\nimport Language from \"./Language\";\nimport Timezone from \"./Timezone\";\nimport Notification from \"./Notification\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateUser } from \"@actions/user\";\n\nimport \"./index.sass\";\nimport { useTranslation } from \"@helpers/translate\";\nimport { Helmet } from \"react-helmet\";\n\nconst GlobalSettings = () => {\n  const {\n    companyNews = 0,\n    withdrawal = 0,\n    deposit = 0,\n  } = useSelector((state) => state.user.user);\n  const { __ } = useTranslation();\n\n  console.log(companyNews, withdrawal, deposit);\n\n  const { control, handleSubmit, formState, reset } = useForm({\n    defaultValues: {\n      companyNews: Boolean(Number(companyNews)),\n      withdrawal: Boolean(Number(withdrawal)),\n      deposit: Boolean(Number(deposit)),\n    },\n  });\n  const [loading, setLoading] = useState(false);\n\n  const dispatch = useDispatch();\n\n  let { isDirty } = formState;\n\n  const handleFormSubmit = async (formData) => {\n    setLoading(true);\n    const data = {\n      values: formData,\n    };\n\n    await dispatch(updateUser({ data }));\n\n    reset(formData);\n    isDirty = false;\n    setLoading(false);\n  };\n  return (\n    <>\n      <Helmet>\n        <title>\n          {__(\"seo.settings\")} {__(\"seo.divider\")} {__(\"seo.title\")}\n        </title>\n      </Helmet>\n      <form\n        className=\"g-settings settings\"\n        onSubmit={handleSubmit(handleFormSubmit)}\n      >\n        <header className=\"settings__header\">\n          <h1 className=\"settings__title\">{__(\"common.settings\")}</h1>\n        </header>\n\n        <Language />\n        \n        <Grid container>\n          <Grid item xl={6} md={8} xs={12}>\n            <Timezone/>\n            <Notification control={control} />\n          </Grid>\n        </Grid>\n\n        <Button\n          disabled={!isDirty}\n          className=\"settings__btn\"\n          color=\"orange\"\n          size=\"middle\"\n          type=\"submit\"\n          isLoading={loading}\n        >\n          {__(\"settings.confirm\")}\n        </Button>\n      </form>\n    </>\n  );\n};\n\nexport default React.memo(GlobalSettings);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
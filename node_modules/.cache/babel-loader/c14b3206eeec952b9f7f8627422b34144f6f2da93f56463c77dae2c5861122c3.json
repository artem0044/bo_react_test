{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Transition}from\"react-transition-group\";import{CheckSuccessIcon,FailedIcon}from\"@components/library\";import{useLocation}from\"react-router-dom\";import{useTranslation}from\"@helpers/translate\";import axios from\"@helpers/axios/private.axios\";import\"./index.sass\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OndatoPopup=()=>{const{__}=useTranslation();const[data,setData]=useState({});const location=useLocation();const[showPopup,setShowPopup]=useState(false);const checkOndatoVerification=async()=>{const queryParams=new URLSearchParams(location.search);const paramStatus=queryParams.get(\"status\");if(paramStatus){try{const resp=await axios.get(\"/ondato/check\");const{status,message}=resp.data;setData({status:status===\"success\"?2:1,message});setShowPopup(true);}catch(e){}}};useEffect(()=>{checkOndatoVerification();},[]);return/*#__PURE__*/_jsx(Transition,{in:showPopup,timeout:500,mountOnEnter:true,unmountOnExit:true,children:/*#__PURE__*/_jsx(\"div\",{className:\"popup \".concat(showPopup?\"active\":\"\"),onClick:()=>setShowPopup(false),children:/*#__PURE__*/_jsxs(\"div\",{onClick:e=>e.stopPropagation(),className:\"popup__content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ondatoPopup\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ondatoPopup__pic\",children:data.status===2?/*#__PURE__*/_jsx(CheckSuccessIcon,{}):/*#__PURE__*/_jsx(FailedIcon,{})}),/*#__PURE__*/_jsx(\"h2\",{className:\"ondatoPopup__title\",children:data.status===2?__(\"common.successful\"):__(\"common.failed\")}),/*#__PURE__*/_jsx(\"p\",{className:\"ondatoPopup__text\",children:data.message})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPopup(false),type:\"button\",className:\"popup__close\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M3.46967 3.46967C3.76256 3.17678 4.23744 3.17678 4.53033 3.46967L20.5303 19.4697C20.8232 19.7626 20.8232 20.2374 20.5303 20.5303C20.2374 20.8232 19.7626 20.8232 19.4697 20.5303L3.46967 4.53033C3.17678 4.23744 3.17678 3.76256 3.46967 3.46967Z\",fill:\"white\"}),/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M20.5303 3.46967C20.8232 3.76256 20.8232 4.23744 20.5303 4.53033L4.53033 20.5303C4.23744 20.8232 3.76256 20.8232 3.46967 20.5303C3.17678 20.2374 3.17678 19.7626 3.46967 19.4697L19.4697 3.46967C19.7626 3.17678 20.2374 3.17678 20.5303 3.46967Z\",fill:\"white\"})]})})]})})});};export default OndatoPopup;","map":{"version":3,"names":["React","useEffect","useState","Transition","CheckSuccessIcon","FailedIcon","useLocation","useTranslation","axios","jsx","_jsx","jsxs","_jsxs","OndatoPopup","__","data","setData","location","showPopup","setShowPopup","checkOndatoVerification","queryParams","URLSearchParams","search","paramStatus","get","resp","status","message","e","in","timeout","mountOnEnter","unmountOnExit","children","className","concat","onClick","stopPropagation","type","width","height","viewBox","fill","xmlns","fillRule","clipRule","d"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/pages/MyProfile/components/OndatoPopup/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Transition } from \"react-transition-group\";\nimport { CheckSuccessIcon, FailedIcon } from \"@components/library\";\nimport { useLocation } from \"react-router-dom\";\nimport { useTranslation } from \"@helpers/translate\";\nimport axios from \"@helpers/axios/private.axios\";\nimport \"./index.sass\";\n\nconst OndatoPopup = () => {\n  const { __ } = useTranslation();\n  const [data, setData] = useState({});\n  const location = useLocation();\n  const [showPopup, setShowPopup] = useState(false);\n\n  const checkOndatoVerification = async () => {\n    const queryParams = new URLSearchParams(location.search);\n    const paramStatus = queryParams.get(\"status\");\n    if (paramStatus) {\n      try {\n        const resp = await axios.get(`/ondato/check`);\n        const { status, message } = resp.data;\n\n        setData({\n          status: status === \"success\" ? 2 : 1,\n          message,\n        });\n\n        setShowPopup(true);\n      } catch (e) {}\n    }\n  };\n\n  useEffect(() => {\n    checkOndatoVerification();\n  }, []);\n\n  return (\n    <Transition in={showPopup} timeout={500} mountOnEnter unmountOnExit>\n      <div\n        className={`popup ${showPopup ? \"active\" : \"\"}`}\n        onClick={() => setShowPopup(false)}\n      >\n        <div onClick={(e) => e.stopPropagation()} className=\"popup__content\">\n          <div className=\"ondatoPopup\">\n            <div className=\"ondatoPopup__pic\">\n              {data.status === 2 ? <CheckSuccessIcon /> : <FailedIcon />}\n            </div>\n            <h2 className=\"ondatoPopup__title\">\n              {data.status === 2\n                ? __(\"common.successful\")\n                : __(\"common.failed\")}\n            </h2>\n            <p className=\"ondatoPopup__text\">{data.message}</p>\n          </div>\n          <button\n            onClick={() => setShowPopup(false)}\n            type=\"button\"\n            className=\"popup__close\"\n          >\n            <svg\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                clipRule=\"evenodd\"\n                d=\"M3.46967 3.46967C3.76256 3.17678 4.23744 3.17678 4.53033 3.46967L20.5303 19.4697C20.8232 19.7626 20.8232 20.2374 20.5303 20.5303C20.2374 20.8232 19.7626 20.8232 19.4697 20.5303L3.46967 4.53033C3.17678 4.23744 3.17678 3.76256 3.46967 3.46967Z\"\n                fill=\"white\"\n              />\n              <path\n                fillRule=\"evenodd\"\n                clipRule=\"evenodd\"\n                d=\"M20.5303 3.46967C20.8232 3.76256 20.8232 4.23744 20.5303 4.53033L4.53033 20.5303C4.23744 20.8232 3.76256 20.8232 3.46967 20.5303C3.17678 20.2374 3.17678 19.7626 3.46967 19.4697L19.4697 3.46967C19.7626 3.17678 20.2374 3.17678 20.5303 3.46967Z\"\n                fill=\"white\"\n              />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </Transition>\n  );\n};\nexport default OndatoPopup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
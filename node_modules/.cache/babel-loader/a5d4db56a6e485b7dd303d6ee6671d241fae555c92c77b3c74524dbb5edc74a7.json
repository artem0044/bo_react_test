{"ast":null,"code":"import{Skeleton,Table,TableBody,TableCell,TableContainer,TableHead,TableRow}from\"@mui/material\";import React,{useEffect,useMemo,useState}from\"react\";import axios from\"@helpers/axios/private.axios\";import{useTranslation}from\"@helpers/translate\";import{useSelector}from\"react-redux\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const PositionHistory=_ref=>{let{hideOtherSymbols,data,setData}=_ref;const[loading,setLoading]=useState(false);const{__}=useTranslation();const{pair}=useSelector(state=>state.futures);const{wallet:{active_wallet}}=useSelector(state=>state);const getHistoryOrders=async()=>{try{setLoading(true);const resp=await axios.get(\"/futures/positions/history\");setData(resp.data.data);setLoading(false);}catch(e){console.error(e);}};useEffect(()=>{getHistoryOrders();},[active_wallet]);const filteredData=useMemo(()=>{return hideOtherSymbols?data.filter(order=>order.symbol===pair.slug):data;},[data,pair,hideOtherSymbols]);return/*#__PURE__*/_jsx(TableContainer,{sx:{maxHeight:240,overflow:'auto'},className:\"futuresOrdersTable\",children:/*#__PURE__*/_jsxs(Table,{stickyHeader:true,sx:{minWidth:920},children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",children:__(\"futures.symbol\")}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",children:__(\"futures.closing_pnl\")}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",children:__(\"futures.size\")}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",children:__(\"futures.entry_price\")}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",children:__(\"futures.close_price\")}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",children:__(\"futures.opened\")}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__head-text\",align:\"right\",children:__(\"futures.closed\")})]})}),/*#__PURE__*/_jsx(TableBody,{children:loading?Array.from({length:3}).map((_,index)=>/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:8,children:/*#__PURE__*/_jsx(Skeleton,{className:\"main-skeleton\",variant:\"rounded\",height:20,width:\"100%\"})})},index)):filteredData.length?/*#__PURE__*/_jsx(_Fragment,{children:filteredData.map((order,index)=>/*#__PURE__*/_jsxs(TableRow,{sx:{'&:last-child td, &:last-child th':{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__time\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"futuresOrdersTable__symbol\",children:[/*#__PURE__*/_jsx(\"img\",{src:order.cover,className:\"futuresOrdersTable__symbol-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"futuresOrdersTable__symbol-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"futuresOrdersTable__symbol-content-top\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"futuresOrdersTable__symbol-name\",children:order.symbol}),/*#__PURE__*/_jsx(\"span\",{className:\"futuresOrdersTable__symbol-status\",children:order.status})]}),/*#__PURE__*/_jsx(\"span\",{className:\"futuresOrdersTable__tag\",children:\"Perp\"}),/*#__PURE__*/_jsx(\"span\",{className:\"futuresOrdersTable__tag \".concat(order.side===\"Sell\"?\"futuresOrdersTable__tag--red\":\"futuresOrdersTable__tag--green\"),children:order.side})]})]})}),/*#__PURE__*/_jsxs(TableCell,{className:\"futuresOrdersTable__value \".concat(order.pnl<0?\"futuresOrdersTable__value--red\":\"futuresOrdersTable__value--green\"),children:[order.pnl,\" USDT\"]}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__value \".concat(order.side.toLowerCase()===\"short\"?\"futuresOrdersTable__value--red\":\"futuresOrdersTable__value--green\"),children:order.leverage*order.margin}),/*#__PURE__*/_jsxs(TableCell,{className:\"futuresOrdersTable__value\",children:[Number(order.entry_price).toFixed(2),\" USDT\"]}),/*#__PURE__*/_jsxs(TableCell,{className:\"futuresOrdersTable__value\",children:[order.closed_price,\" USDT\"]}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__value\",children:order.created_at}),/*#__PURE__*/_jsx(TableCell,{className:\"futuresOrdersTable__value\",align:\"right\",children:order.closed_at})]},index))}):/*#__PURE__*/_jsx(\"p\",{className:\"futuresOrdersTable__notFound\",children:__(\"common.not_found\")})})]})});};","map":{"version":3,"names":["Skeleton","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","React","useEffect","useMemo","useState","axios","useTranslation","useSelector","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PositionHistory","_ref","hideOtherSymbols","data","setData","loading","setLoading","__","pair","state","futures","wallet","active_wallet","getHistoryOrders","resp","get","e","console","error","filteredData","filter","order","symbol","slug","sx","maxHeight","overflow","className","children","stickyHeader","minWidth","align","Array","from","length","map","_","index","colSpan","variant","height","width","border","src","cover","status","concat","side","pnl","toLowerCase","leverage","margin","Number","entry_price","toFixed","closed_price","created_at","closed_at"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/pages/Futures/components/Orders/PositionHistory.jsx"],"sourcesContent":["import {Skeleton, Table, TableBody, TableCell, TableContainer, TableHead, TableRow} from \"@mui/material\";\nimport React, {useEffect, useMemo, useState} from \"react\";\nimport axios from \"@helpers/axios/private.axios\";\nimport {useTranslation} from \"@helpers/translate\";\nimport {useSelector} from \"react-redux\";\n\nexport const PositionHistory = ({hideOtherSymbols, data, setData}) => {\n  const [loading, setLoading] = useState(false);\n  const {__} = useTranslation();\n  const {pair} = useSelector((state) => state.futures);\n  const {\n    wallet: {active_wallet},\n  } = useSelector((state) => state);\n\n  const getHistoryOrders = async () => {\n    try {\n      setLoading(true);\n\n      const resp = await axios.get(`/futures/positions/history`);\n      setData(resp.data.data);\n      setLoading(false);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  useEffect(() => {\n    getHistoryOrders();\n  }, [active_wallet]);\n\n  const filteredData = useMemo(() => {\n    return hideOtherSymbols ? data.filter((order) => order.symbol === pair.slug) : data;\n  }, [data, pair, hideOtherSymbols]);\n\n  return (\n    <TableContainer sx={{maxHeight: 240, overflow: 'auto'}} className=\"futuresOrdersTable\">\n      <Table stickyHeader sx={{minWidth: 920}}>\n        <TableHead>\n          <TableRow>\n            <TableCell className=\"futuresOrdersTable__head-text\">{__(\"futures.symbol\")}</TableCell>\n            <TableCell className=\"futuresOrdersTable__head-text\">{__(\"futures.closing_pnl\")}</TableCell>\n            <TableCell className=\"futuresOrdersTable__head-text\">{__(\"futures.size\")}</TableCell>\n            <TableCell className=\"futuresOrdersTable__head-text\">{__(\"futures.entry_price\")}</TableCell>\n            <TableCell className=\"futuresOrdersTable__head-text\">{__(\"futures.close_price\")}</TableCell>\n            <TableCell className=\"futuresOrdersTable__head-text\">{__(\"futures.opened\")}</TableCell>\n            <TableCell className=\"futuresOrdersTable__head-text\" align=\"right\">\n              {__(\"futures.closed\")}\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {loading ? (\n            Array.from({length: 3}).map((_, index) => (\n              <TableRow key={index}>\n                <TableCell colSpan={8}>\n                  <Skeleton\n                    className=\"main-skeleton\"\n                    variant=\"rounded\"\n                    height={20}\n                    width=\"100%\"\n                  />\n                </TableCell>\n              </TableRow>\n            ))\n          ) : filteredData.length ? (\n            <>\n              {filteredData.map((order, index) => (<TableRow\n                sx={{'&:last-child td, &:last-child th': {border: 0}}}\n                key={index}>\n                <TableCell className=\"futuresOrdersTable__time\">\n                  <div className=\"futuresOrdersTable__symbol\">\n                    <img src={order.cover} className=\"futuresOrdersTable__symbol-icon\"/>\n                    <div className=\"futuresOrdersTable__symbol-content\">\n                      <div className=\"futuresOrdersTable__symbol-content-top\">\n                        <span className=\"futuresOrdersTable__symbol-name\">{order.symbol}</span>\n                        <span className=\"futuresOrdersTable__symbol-status\">{order.status}</span>\n                      </div>\n                      <span className=\"futuresOrdersTable__tag\">Perp</span>\n                      <span\n                        className={`futuresOrdersTable__tag ${order.side === \"Sell\" ? \"futuresOrdersTable__tag--red\" : \"futuresOrdersTable__tag--green\"}`}>{order.side}</span>\n                    </div>\n                  </div>\n                </TableCell>\n                <TableCell\n                  className={`futuresOrdersTable__value ${order.pnl < 0 ? \"futuresOrdersTable__value--red\" : \"futuresOrdersTable__value--green\"}`}>\n                  {order.pnl} USDT\n                </TableCell>\n                <TableCell\n                  className={`futuresOrdersTable__value ${order.side.toLowerCase() === \"short\" ? \"futuresOrdersTable__value--red\" : \"futuresOrdersTable__value--green\"}`}>\n                  {order.leverage * order.margin}\n                </TableCell>\n                <TableCell\n                  className={`futuresOrdersTable__value`}>\n                  {Number(order.entry_price).toFixed(2)} USDT\n                </TableCell>\n                <TableCell className=\"futuresOrdersTable__value\">{order.closed_price} USDT</TableCell>\n                <TableCell className=\"futuresOrdersTable__value\">{order.created_at}</TableCell>\n                <TableCell className=\"futuresOrdersTable__value\" align=\"right\">{order.closed_at}</TableCell>\n              </TableRow>))}\n            </>\n          ) : (\n            <p className=\"futuresOrdersTable__notFound\">{__(\"common.not_found\")}</p>\n          )}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}"],"mappings":"AAAA,OAAQA,QAAQ,CAAEC,KAAK,CAAEC,SAAS,CAAEC,SAAS,CAAEC,cAAc,CAAEC,SAAS,CAAEC,QAAQ,KAAO,eAAe,CACxG,MAAO,CAAAC,KAAK,EAAGC,SAAS,CAAEC,OAAO,CAAEC,QAAQ,KAAO,OAAO,CACzD,MAAO,CAAAC,KAAK,KAAM,8BAA8B,CAChD,OAAQC,cAAc,KAAO,oBAAoB,CACjD,OAAQC,WAAW,KAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAExC,MAAO,MAAM,CAAAC,eAAe,CAAGC,IAAA,EAAuC,IAAtC,CAACC,gBAAgB,CAAEC,IAAI,CAAEC,OAAO,CAAC,CAAAH,IAAA,CAC/D,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACiB,EAAE,CAAC,CAAGf,cAAc,CAAC,CAAC,CAC7B,KAAM,CAACgB,IAAI,CAAC,CAAGf,WAAW,CAAEgB,KAAK,EAAKA,KAAK,CAACC,OAAO,CAAC,CACpD,KAAM,CACJC,MAAM,CAAE,CAACC,aAAa,CACxB,CAAC,CAAGnB,WAAW,CAAEgB,KAAK,EAAKA,KAAK,CAAC,CAEjC,KAAM,CAAAI,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACFP,UAAU,CAAC,IAAI,CAAC,CAEhB,KAAM,CAAAQ,IAAI,CAAG,KAAM,CAAAvB,KAAK,CAACwB,GAAG,6BAA6B,CAAC,CAC1DX,OAAO,CAACU,IAAI,CAACX,IAAI,CAACA,IAAI,CAAC,CACvBG,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAOU,CAAC,CAAE,CACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC,CAClB,CACF,CAAC,CAED5B,SAAS,CAAC,IAAM,CACdyB,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,CAACD,aAAa,CAAC,CAAC,CAEnB,KAAM,CAAAO,YAAY,CAAG9B,OAAO,CAAC,IAAM,CACjC,MAAO,CAAAa,gBAAgB,CAAGC,IAAI,CAACiB,MAAM,CAAEC,KAAK,EAAKA,KAAK,CAACC,MAAM,GAAKd,IAAI,CAACe,IAAI,CAAC,CAAGpB,IAAI,CACrF,CAAC,CAAE,CAACA,IAAI,CAAEK,IAAI,CAAEN,gBAAgB,CAAC,CAAC,CAElC,mBACEP,IAAA,CAACX,cAAc,EAACwC,EAAE,CAAE,CAACC,SAAS,CAAE,GAAG,CAAEC,QAAQ,CAAE,MAAM,CAAE,CAACC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACpF/B,KAAA,CAAChB,KAAK,EAACgD,YAAY,MAACL,EAAE,CAAE,CAACM,QAAQ,CAAE,GAAG,CAAE,CAAAF,QAAA,eACtCjC,IAAA,CAACV,SAAS,EAAA2C,QAAA,cACR/B,KAAA,CAACX,QAAQ,EAAA0C,QAAA,eACPjC,IAAA,CAACZ,SAAS,EAAC4C,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAErB,EAAE,CAAC,gBAAgB,CAAC,CAAY,CAAC,cACvFZ,IAAA,CAACZ,SAAS,EAAC4C,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAErB,EAAE,CAAC,qBAAqB,CAAC,CAAY,CAAC,cAC5FZ,IAAA,CAACZ,SAAS,EAAC4C,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAErB,EAAE,CAAC,cAAc,CAAC,CAAY,CAAC,cACrFZ,IAAA,CAACZ,SAAS,EAAC4C,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAErB,EAAE,CAAC,qBAAqB,CAAC,CAAY,CAAC,cAC5FZ,IAAA,CAACZ,SAAS,EAAC4C,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAErB,EAAE,CAAC,qBAAqB,CAAC,CAAY,CAAC,cAC5FZ,IAAA,CAACZ,SAAS,EAAC4C,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAErB,EAAE,CAAC,gBAAgB,CAAC,CAAY,CAAC,cACvFZ,IAAA,CAACZ,SAAS,EAAC4C,SAAS,CAAC,+BAA+B,CAACI,KAAK,CAAC,OAAO,CAAAH,QAAA,CAC/DrB,EAAE,CAAC,gBAAgB,CAAC,CACZ,CAAC,EACJ,CAAC,CACF,CAAC,cACZZ,IAAA,CAACb,SAAS,EAAA8C,QAAA,CACPvB,OAAO,CACN2B,KAAK,CAACC,IAAI,CAAC,CAACC,MAAM,CAAE,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,CAAC,CAAEC,KAAK,gBACnC1C,IAAA,CAACT,QAAQ,EAAA0C,QAAA,cACPjC,IAAA,CAACZ,SAAS,EAACuD,OAAO,CAAE,CAAE,CAAAV,QAAA,cACpBjC,IAAA,CAACf,QAAQ,EACP+C,SAAS,CAAC,eAAe,CACzBY,OAAO,CAAC,SAAS,CACjBC,MAAM,CAAE,EAAG,CACXC,KAAK,CAAC,MAAM,CACb,CAAC,CACO,CAAC,EARCJ,KASL,CACX,CAAC,CACAlB,YAAY,CAACe,MAAM,cACrBvC,IAAA,CAAAI,SAAA,EAAA6B,QAAA,CACGT,YAAY,CAACgB,GAAG,CAAC,CAACd,KAAK,CAAEgB,KAAK,gBAAMxC,KAAA,CAACX,QAAQ,EAC5CsC,EAAE,CAAE,CAAC,kCAAkC,CAAE,CAACkB,MAAM,CAAE,CAAC,CAAC,CAAE,CAAAd,QAAA,eAEtDjC,IAAA,CAACZ,SAAS,EAAC4C,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cAC7C/B,KAAA,QAAK8B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzCjC,IAAA,QAAKgD,GAAG,CAAEtB,KAAK,CAACuB,KAAM,CAACjB,SAAS,CAAC,iCAAiC,CAAC,CAAC,cACpE9B,KAAA,QAAK8B,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eACjD/B,KAAA,QAAK8B,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDjC,IAAA,SAAMgC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAEP,KAAK,CAACC,MAAM,CAAO,CAAC,cACvE3B,IAAA,SAAMgC,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAEP,KAAK,CAACwB,MAAM,CAAO,CAAC,EACtE,CAAC,cACNlD,IAAA,SAAMgC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,MAAI,CAAM,CAAC,cACrDjC,IAAA,SACEgC,SAAS,4BAAAmB,MAAA,CAA6BzB,KAAK,CAAC0B,IAAI,GAAK,MAAM,CAAG,8BAA8B,CAAG,gCAAgC,CAAG,CAAAnB,QAAA,CAAEP,KAAK,CAAC0B,IAAI,CAAO,CAAC,EACrJ,CAAC,EACH,CAAC,CACG,CAAC,cACZlD,KAAA,CAACd,SAAS,EACR4C,SAAS,8BAAAmB,MAAA,CAA+BzB,KAAK,CAAC2B,GAAG,CAAG,CAAC,CAAG,gCAAgC,CAAG,kCAAkC,CAAG,CAAApB,QAAA,EAC/HP,KAAK,CAAC2B,GAAG,CAAC,OACb,EAAW,CAAC,cACZrD,IAAA,CAACZ,SAAS,EACR4C,SAAS,8BAAAmB,MAAA,CAA+BzB,KAAK,CAAC0B,IAAI,CAACE,WAAW,CAAC,CAAC,GAAK,OAAO,CAAG,gCAAgC,CAAG,kCAAkC,CAAG,CAAArB,QAAA,CACtJP,KAAK,CAAC6B,QAAQ,CAAG7B,KAAK,CAAC8B,MAAM,CACrB,CAAC,cACZtD,KAAA,CAACd,SAAS,EACR4C,SAAS,4BAA8B,CAAAC,QAAA,EACtCwB,MAAM,CAAC/B,KAAK,CAACgC,WAAW,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,OACxC,EAAW,CAAC,cACZzD,KAAA,CAACd,SAAS,EAAC4C,SAAS,CAAC,2BAA2B,CAAAC,QAAA,EAAEP,KAAK,CAACkC,YAAY,CAAC,OAAK,EAAW,CAAC,cACtF5D,IAAA,CAACZ,SAAS,EAAC4C,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAEP,KAAK,CAACmC,UAAU,CAAY,CAAC,cAC/E7D,IAAA,CAACZ,SAAS,EAAC4C,SAAS,CAAC,2BAA2B,CAACI,KAAK,CAAC,OAAO,CAAAH,QAAA,CAAEP,KAAK,CAACoC,SAAS,CAAY,CAAC,GA7BvFpB,KA8BG,CAAE,CAAC,CACb,CAAC,cAEH1C,IAAA,MAAGgC,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAErB,EAAE,CAAC,kBAAkB,CAAC,CAAI,CACxE,CACQ,CAAC,EACP,CAAC,CACM,CAAC,CAErB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
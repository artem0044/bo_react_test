{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Navigate,Route,Routes}from\"react-router-dom\";import{useSelector}from\"react-redux\";import{AffiliateLink,Auth,CreatePassword,Deposit,Futures,History,InfoPage,Login,Main,MyProfile,RecoverPassword,Settings,SignUpHash,SingUp,TransactionHistory,TryDemo,UpdatedPassword,Withdrawal}from\"@components/pages\";import{NotFound}from\"@components/pages/NotFound\";import ScrollToTop from\"@components/common/ScrollToTop\";import MyAlert from\"../library/UI/Alert\";import LayoutWithAside from\"@components/layout/Layout/LayoutWithAside\";import{MAIN_PAGE,NAVIGATE_TO_EMAIL,PROFILE_PAGE,TRY_DEMO}from\"@constants\";import{saveParamToCookie}from\"@helpers\";import{Layout}from\"@components/layout/Layout\";import{AUTH_PAGE}from\"../../constants\";import config from\"../../config\";import{FUTURES_PAGE}from\"../../constants/routes\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const AuthWrapper=()=>{const{isAuth,isDemoUser}=useSelector(state=>state.auth);const test=useSelector(state=>state.auth);const{theme:colorTheme}=useSelector(state=>state.theme);const[currentThemeClass,setCurrentThemeClass]=useState(colorTheme);useEffect(()=>{console.log(isAuth,isDemoUser,test,colorTheme,config.default_theme);if(isAuth||colorTheme===config.default_theme){var _document$body$classL;(_document$body$classL=document.body.classList)===null||_document$body$classL===void 0?void 0:_document$body$classL.remove(currentThemeClass);document.body.classList.add(colorTheme);setCurrentThemeClass(colorTheme);}else{var _document$body$classL2;(_document$body$classL2=document.body.classList)===null||_document$body$classL2===void 0?void 0:_document$body$classL2.remove(currentThemeClass);}},[colorTheme,isAuth]);useEffect(()=>{const a=saveParamToCookie(\"a\");console.log(a);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ScrollToTop,{}),/*#__PURE__*/_jsx(MyAlert,{}),/*#__PURE__*/_jsxs(Routes,{children:[isAuth&&!isDemoUser?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LayoutWithAside,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Futures,{})}),/*#__PURE__*/_jsx(Route,{path:FUTURES_PAGE,element:/*#__PURE__*/_jsx(Navigate,{to:MAIN_PAGE})}),/*#__PURE__*/_jsx(Route,{path:\"/auth/*\",element:/*#__PURE__*/_jsx(Navigate,{to:MAIN_PAGE})}),/*#__PURE__*/_jsxs(Route,{path:\"/wallet\",children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(History,{})}),/*#__PURE__*/_jsx(Route,{path:\"deposit\",element:/*#__PURE__*/_jsx(Deposit,{})}),/*#__PURE__*/_jsx(Route,{path:\"withdrawal\",element:/*#__PURE__*/_jsx(Withdrawal,{})})]}),/*#__PURE__*/_jsx(Route,{path:PROFILE_PAGE,element:/*#__PURE__*/_jsx(MyProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"trading-history\",element:/*#__PURE__*/_jsx(TransactionHistory,{})}),/*#__PURE__*/_jsx(Route,{path:\"settings\",element:/*#__PURE__*/_jsx(Settings,{})}),/*#__PURE__*/_jsx(Route,{path:\"/page/:page\",element:/*#__PURE__*/_jsx(InfoPage,{})})]}),/*#__PURE__*/_jsx(Route,{path:TRY_DEMO,element:/*#__PURE__*/_jsx(Navigate,{to:MAIN_PAGE})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[NAVIGATE_TO_EMAIL.map(route=>/*#__PURE__*/_jsx(Route,{path:route,element:/*#__PURE__*/_jsx(Navigate,{to:AUTH_PAGE})})),/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Main,{})}),/*#__PURE__*/_jsx(Route,{path:\"page/:page\",element:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(InfoPage,{})})}),/*#__PURE__*/_jsxs(Route,{path:\"/auth\",element:/*#__PURE__*/_jsx(Auth,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"signup\",element:/*#__PURE__*/_jsx(SingUp,{})}),/*#__PURE__*/_jsx(Route,{path:\"recover-password\",element:/*#__PURE__*/_jsx(RecoverPassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"create-password/:email/:code\",element:/*#__PURE__*/_jsx(CreatePassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"updated-password\",element:/*#__PURE__*/_jsx(UpdatedPassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Login,{})})]}),/*#__PURE__*/_jsx(Route,{path:TRY_DEMO,element:/*#__PURE__*/_jsx(LayoutWithAside,{}),children:/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(TryDemo,{})})})]}),/*#__PURE__*/_jsx(Route,{path:\"auth/verify/:hash\",element:/*#__PURE__*/_jsx(SignUpHash,{})}),/*#__PURE__*/_jsx(Route,{path:\"p/:hash\",element:/*#__PURE__*/_jsx(AffiliateLink,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]})]});};","map":{"version":3,"names":["React","useEffect","useState","Navigate","Route","Routes","useSelector","AffiliateLink","Auth","CreatePassword","Deposit","Futures","History","InfoPage","Login","Main","MyProfile","RecoverPassword","Settings","SignUpHash","SingUp","TransactionHistory","TryDemo","UpdatedPassword","Withdrawal","NotFound","ScrollToTop","MyAlert","LayoutWithAside","MAIN_PAGE","NAVIGATE_TO_EMAIL","PROFILE_PAGE","TRY_DEMO","saveParamToCookie","Layout","AUTH_PAGE","config","FUTURES_PAGE","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AuthWrapper","isAuth","isDemoUser","state","auth","test","theme","colorTheme","currentThemeClass","setCurrentThemeClass","console","log","default_theme","_document$body$classL","document","body","classList","remove","add","_document$body$classL2","a","children","path","element","index","to","map","route"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/common/AuthWrapper.jsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Navigate, Route, Routes} from \"react-router-dom\";\nimport {useSelector} from \"react-redux\";\nimport {\n  AffiliateLink,\n  Auth,\n  CreatePassword,\n  Deposit,\n  Futures,\n  History,\n  InfoPage,\n  Login,\n  Main,\n  MyProfile,\n  RecoverPassword,\n  Settings,\n  SignUpHash,\n  SingUp,\n  TransactionHistory,\n  TryDemo,\n  UpdatedPassword,\n  Withdrawal,\n} from \"@components/pages\";\n\nimport {NotFound} from \"@components/pages/NotFound\";\nimport ScrollToTop from \"@components/common/ScrollToTop\";\nimport MyAlert from \"../library/UI/Alert\";\nimport LayoutWithAside from \"@components/layout/Layout/LayoutWithAside\";\nimport {MAIN_PAGE, NAVIGATE_TO_EMAIL, PROFILE_PAGE, TRY_DEMO,} from \"@constants\";\nimport {saveParamToCookie} from \"@helpers\";\nimport {Layout} from \"@components/layout/Layout\";\nimport {AUTH_PAGE} from \"../../constants\";\nimport config from \"../../config\";\nimport {FUTURES_PAGE} from \"../../constants/routes\";\n\nexport const AuthWrapper = () => {\n  const {isAuth, isDemoUser} = useSelector((state) => state.auth);\n  const test = useSelector((state) => state.auth);\n  const {theme: colorTheme} = useSelector((state) => state.theme);\n  const [currentThemeClass, setCurrentThemeClass] = useState(colorTheme);\n\n  useEffect(() => {\n    console.log(isAuth, isDemoUser, test, colorTheme, config.default_theme);\n\n    if (isAuth || colorTheme === config.default_theme) {\n      document.body.classList?.remove(currentThemeClass);\n      document.body.classList.add(colorTheme);\n      setCurrentThemeClass(colorTheme);\n    } else {\n      document.body.classList?.remove(currentThemeClass);\n    }\n  }, [colorTheme, isAuth]);\n\n  useEffect(() => {\n    const a = saveParamToCookie(\"a\");\n    console.log(a);\n  }, []);\n\n  return (\n    <>\n      <ScrollToTop/>\n      <MyAlert/>\n\n      <Routes>\n        {isAuth && !isDemoUser ? (\n          <>\n            <Route path=\"/\" element={<LayoutWithAside/>}>\n              <Route index element={<Futures/>}/>\n              <Route path={FUTURES_PAGE} element={<Navigate to={MAIN_PAGE}/>}/>\n              <Route path=\"/auth/*\" element={<Navigate to={MAIN_PAGE}/>}/>\n              <Route path=\"/wallet\">\n                <Route index element={<History/>}/>\n                <Route path=\"deposit\" element={<Deposit/>}/>\n                {/*<Route path=\"deposit/:id\" element={<CurrentCrypto />} />*/}\n                <Route path=\"withdrawal\" element={<Withdrawal/>}/>\n              </Route>\n              <Route path={PROFILE_PAGE} element={<MyProfile/>}/>\n              <Route path=\"trading-history\" element={<TransactionHistory/>}/>\n              <Route path=\"settings\" element={<Settings/>}/>\n              <Route path=\"/page/:page\" element={<InfoPage/>}/>\n            </Route>\n\n            <Route\n              path={TRY_DEMO}\n              element={<Navigate to={MAIN_PAGE}/>}\n            ></Route>\n          </>\n        ) : (\n          <>\n            {NAVIGATE_TO_EMAIL.map((route) => (\n              <Route path={route} element={<Navigate to={AUTH_PAGE}/>}/>\n            ))}\n\n            <Route index element={<Main/>}/>\n            <Route\n              path=\"page/:page\"\n              element={\n                <Layout>\n                  <InfoPage/>\n                </Layout>\n              }\n            />\n\n            <Route path=\"/auth\" element={<Auth/>}>\n              <Route index element={<Login/>}/>\n              <Route path=\"signup\" element={<SingUp/>}/>\n              <Route path=\"recover-password\" element={<RecoverPassword/>}/>\n              <Route\n                path=\"create-password/:email/:code\"\n                element={<CreatePassword/>}\n              />\n              <Route path=\"updated-password\" element={<UpdatedPassword/>}/>\n\n              <Route path=\"*\" element={<Login/>}/>\n            </Route>\n\n            <Route path={TRY_DEMO} element={<LayoutWithAside/>}>\n              <Route index element={<TryDemo/>}/>\n            </Route>\n          </>\n        )}\n\n        <Route path=\"auth/verify/:hash\" element={<SignUpHash/>}/>\n        <Route path=\"p/:hash\" element={<AffiliateLink/>}/>\n        <Route path=\"*\" element={<NotFound/>}/>\n      </Routes>\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
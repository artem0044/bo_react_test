{"ast":null,"code":"import React,{useState}from\"react\";import{Grid,Tooltip}from\"@mui/material\";import{BIDS}from\"@constants\";import TimeIcon from\"@assets/images/icons/time.svg\";import Help from\"@assets/images/icons/help-circle.svg\";import Collapse from\"@mui/material/Collapse\";import{useDispatch,useSelector}from\"react-redux\";import{useTranslation}from\"@helpers/translate\";import moment from\"moment\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Time=()=>{const[open,setOpen]=useState(false);const[tooltipIntervalId,setTooltipIntervalId]=useState(null);const dispatch=useDispatch();const{time}=useSelector(state=>state.bids);const{__}=useTranslation();const[currentTime,setCurrentTime]=useState(\"\");const changeTime=value=>{dispatch({type:BIDS.UPDATE_FIELD,payload:{time:value}});};const arrTime=[{value:\"00:00:10\",name:__(\"trading.10s\"),minutes:0.166666667},// added minutes field\n{value:\"00:01:00\",name:__(\"trading.1m\"),minutes:1},{value:\"00:03:00\",name:__(\"trading.3m\"),minutes:3},{value:\"00:05:00\",name:__(\"trading.5m\"),minutes:5},{value:\"00:10:00\",name:__(\"trading.10m\"),minutes:10},{value:\"00:15:00\",name:__(\"trading.15m\"),minutes:15},{value:\"00:30:00\",name:__(\"trading.30m\"),minutes:30},{value:\"01:00:00\",name:__(\"trading.1h\"),minutes:60},{value:\"04:00:00\",name:__(\"trading.4h\"),minutes:240}];const handleTooltipOpen=()=>{const intervalId=setInterval(()=>{const selectedTime=moment(time,\"HH:mm:ss\");setCurrentTime(moment().add(selectedTime.hours(),\"hours\").add(selectedTime.minutes(),\"minutes\").add(selectedTime.seconds(),\"seconds\").format(\"DD.MM.YYYY HH:mm:ss\"));},1000);setTooltipIntervalId(intervalId);};const handleTooltipClose=()=>{if(tooltipIntervalId){clearInterval(tooltipIntervalId);setTooltipIntervalId(null);}};return/*#__PURE__*/_jsx(\"section\",{className:\"trading-aside__section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"trading-aside-time\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setOpen(!open),className:\"trading-aside-sec \".concat(open?\"active\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"trading-aside-sec__header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"trading-aside-sec__title\",children:__(\"trading.time\")}),/*#__PURE__*/_jsx(Tooltip,{title:__(\"tooltip.time\")+\" \"+currentTime,placement:\"right-start\",className:\"tooltip__icon\",slotProps:{tooltip:{className:\"tooltip__popper\"}},onOpen:handleTooltipOpen,onClose:handleTooltipClose,children:/*#__PURE__*/_jsx(\"img\",{className:\"trading-aside-sec__help\",src:Help})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"trading-aside-sec__wrap\",children:[/*#__PURE__*/_jsx(\"time\",{className:\"trading-aside-sec__val\",children:time}),/*#__PURE__*/_jsx(\"img\",{className:\"trading-aside-sec__icon\",src:TimeIcon})]})]}),/*#__PURE__*/_jsx(Collapse,{in:open,timeout:\"auto\",unmountOnExit:true,children:/*#__PURE__*/_jsx(\"div\",{className:\"trading-aside-time__btns\",children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:\"7px\",children:arrTime.map(_ref=>{let{value,name}=_ref;return/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>changeTime(value),type:\"button\",className:\"trading-aside-time__btn \".concat(time===value?\"active\":\"\"),children:name})},value);})})})})]})});};export default Time;","map":{"version":3,"names":["React","useState","Grid","Tooltip","BIDS","TimeIcon","Help","Collapse","useDispatch","useSelector","useTranslation","moment","jsx","_jsx","jsxs","_jsxs","Time","open","setOpen","tooltipIntervalId","setTooltipIntervalId","dispatch","time","state","bids","__","currentTime","setCurrentTime","changeTime","value","type","UPDATE_FIELD","payload","arrTime","name","minutes","handleTooltipOpen","intervalId","setInterval","selectedTime","add","hours","seconds","format","handleTooltipClose","clearInterval","className","children","onClick","concat","title","placement","slotProps","tooltip","onOpen","onClose","src","in","timeout","unmountOnExit","container","spacing","map","_ref","item","xs"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/pages/Trading/components/TradingAside/components/time/index.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Grid, Tooltip } from \"@mui/material\";\nimport { BIDS } from \"@constants\";\nimport TimeIcon from \"@assets/images/icons/time.svg\";\nimport Help from \"@assets/images/icons/help-circle.svg\";\nimport Collapse from \"@mui/material/Collapse\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useTranslation } from \"@helpers/translate\";\nimport moment from \"moment\";\n\nconst Time = () => {\n  const [open, setOpen] = useState(false);\n  const [tooltipIntervalId, setTooltipIntervalId] = useState(null);\n  const dispatch = useDispatch();\n  const { time } = useSelector((state) => state.bids);\n  const { __ } = useTranslation();\n\n  const [currentTime, setCurrentTime] = useState(\"\");\n  const changeTime = (value) => {\n    dispatch({ type: BIDS.UPDATE_FIELD, payload: { time: value } });\n  };\n\n  const arrTime = [\n    { value: \"00:00:10\", name: __(\"trading.10s\"), minutes: 0.166666667 }, // added minutes field\n    { value: \"00:01:00\", name: __(\"trading.1m\"), minutes: 1 },\n    { value: \"00:03:00\", name: __(\"trading.3m\"), minutes: 3 },\n    { value: \"00:05:00\", name: __(\"trading.5m\"), minutes: 5 },\n    { value: \"00:10:00\", name: __(\"trading.10m\"), minutes: 10 },\n    { value: \"00:15:00\", name: __(\"trading.15m\"), minutes: 15 },\n    { value: \"00:30:00\", name: __(\"trading.30m\"), minutes: 30 },\n    { value: \"01:00:00\", name: __(\"trading.1h\"), minutes: 60 },\n    { value: \"04:00:00\", name: __(\"trading.4h\"), minutes: 240 },\n  ];\n\n  const handleTooltipOpen = () => {\n    const intervalId = setInterval(() => {\n      const selectedTime = moment(time, \"HH:mm:ss\");\n      setCurrentTime(\n        moment()\n          .add(selectedTime.hours(), \"hours\")\n          .add(selectedTime.minutes(), \"minutes\")\n          .add(selectedTime.seconds(), \"seconds\")\n          .format(\"DD.MM.YYYY HH:mm:ss\")\n      );\n    }, 1000);\n    setTooltipIntervalId(intervalId);\n  };\n\n  const handleTooltipClose = () => {\n    if (tooltipIntervalId) {\n      clearInterval(tooltipIntervalId);\n      setTooltipIntervalId(null);\n    }\n  };\n\n  return (\n    <section className=\"trading-aside__section\">\n      <div className=\"trading-aside-time\">\n        <div\n          onClick={() => setOpen(!open)}\n          className={`trading-aside-sec ${open ? \"active\" : \"\"}`}\n        >\n          <div className=\"trading-aside-sec__header\">\n            <h5 className=\"trading-aside-sec__title\">{__(\"trading.time\")}</h5>\n            <Tooltip\n              title={__(\"tooltip.time\") + \" \" + currentTime}\n              placement=\"right-start\"\n              className=\"tooltip__icon\"\n              slotProps={{\n                tooltip: {\n                  className: \"tooltip__popper\",\n                },\n              }}\n              onOpen={handleTooltipOpen}\n              onClose={handleTooltipClose}\n            >\n              <img className=\"trading-aside-sec__help\" src={Help} />\n            </Tooltip>\n          </div>\n          <div className=\"trading-aside-sec__wrap\">\n            <time className=\"trading-aside-sec__val\">{time}</time>\n            <img className=\"trading-aside-sec__icon\" src={TimeIcon} />\n          </div>\n        </div>\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\n          <div className=\"trading-aside-time__btns\">\n            <Grid container spacing=\"7px\">\n              {arrTime.map(({ value, name }) => {\n                return (\n                  <Grid key={value} item xs={4}>\n                    <button\n                      onClick={() => changeTime(value)}\n                      type=\"button\"\n                      className={`trading-aside-time__btn ${\n                        time === value ? \"active\" : \"\"\n                      }`}\n                    >\n                      {name}\n                    </button>\n                  </Grid>\n                );\n              })}\n            </Grid>\n          </div>\n        </Collapse>\n      </div>\n    </section>\n  );\n};\nexport default Time;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
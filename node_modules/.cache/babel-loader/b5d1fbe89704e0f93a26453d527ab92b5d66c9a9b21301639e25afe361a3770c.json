{"ast":null,"code":"import React,{useState}from\"react\";import{Tab,TabPanel,Tabs,TabsList}from\"@mui/base\";import{Button,InternalContent}from\"@components/library\";import TopHistory from\"./components/TopHistory\";import{useSelector}from\"react-redux\";import TradeHistory from\"@components/pages/History/components/TradeHistory\";import OpenOrders from\"@components/pages/History/components/OpenOrders\";import\"./index.sass\";import{useTranslation}from\"@helpers/translate\";import{Helmet}from\"react-helmet\";import useMediaQuery from\"@mui/material/useMediaQuery\";import{useTheme}from\"@mui/material/styles\";import axios from\"@helpers/axios/private.axios\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export const TransactionHistory=()=>{const{theme}=useSelector(state=>state.theme);const mTheme=useTheme();const{__}=useTranslation();const isDesktop=useMediaQuery(mTheme.breakpoints.up(\"md\"));const[value,setValue]=useState(1);const handleChange=(event,newValue)=>{setValue(newValue);};const exportHistory=async format=>{try{const tab=value===1?\"closed\":\"open\";const resp=await axios.get(\"/bid/export/\".concat(tab,\"/\").concat(format),{responseType:\"blob\"});const blob=new Blob([resp.data],{type:\"text/plain\"});const a=document.createElement(\"a\");a.href=URL.createObjectURL(blob);a.style.display=\"none\";a.download=\"trading_history.\".concat(tab,\".\").concat(format);document.body.appendChild(a);a.click();a.remove();}catch(e){console.error(e);}};return/*#__PURE__*/_jsxs(InternalContent,{bgImg:\"../images/bg/bg-lamba4\".concat(theme===\"white\"?\"-white\":\"\",\".png\"),children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsxs(\"title\",{children:[__(\"seo.trading_history\"),\" \",__(\"seo.divider\"),\" \",__(\"seo.title\")]})}),/*#__PURE__*/_jsx(TopHistory,{}),/*#__PURE__*/_jsxs(Tabs,{value:value,onChange:handleChange,children:[!isDesktop&&/*#__PURE__*/_jsxs(TabPanel,{value:1,className:\"tabs-t-history__btns\",children:[/*#__PURE__*/_jsx(Button,{className:\"tabs-t-history__btn\",color:\"border\",size:\"mini-w\",type:\"button\",onClick:()=>exportHistory(\"csv\"),children:\"Export CSV\"}),/*#__PURE__*/_jsx(Button,{className:\"tabs-t-history__btn\",color:\"orange\",size:\"mini-w\",type:\"button\",onClick:()=>exportHistory(\"xlsx\"),children:\"Export XLSX\"})]}),/*#__PURE__*/_jsxs(TabsList,{className:\"tabs\",children:[/*#__PURE__*/_jsx(Tab,{value:1,children:__(\"history.trade_history\")}),/*#__PURE__*/_jsx(Tab,{value:2,children:__(\"history.open_orders\")}),isDesktop&&/*#__PURE__*/_jsxs(\"div\",{className:\"tabs-t-history__btns\",children:[/*#__PURE__*/_jsx(Button,{className:\"tabs-t-history__btn\",color:\"border\",size:\"mini-w\",type:\"button\",onClick:()=>exportHistory(\"csv\"),children:\"Export CSV\"}),/*#__PURE__*/_jsx(Button,{className:\"tabs-t-history__btn\",color:\"orange\",size:\"mini-w\",type:\"button\",onClick:()=>exportHistory(\"xlsx\"),children:\"Export XLSX\"})]})]}),/*#__PURE__*/_jsx(TabPanel,{className:\"tab-content\",value:1,children:/*#__PURE__*/_jsx(TradeHistory,{})}),/*#__PURE__*/_jsx(TabPanel,{className:\"tab-content\",value:2,children:/*#__PURE__*/_jsx(OpenOrders,{})})]})]});};export default TransactionHistory;","map":{"version":3,"names":["React","useState","Tab","TabPanel","Tabs","TabsList","Button","InternalContent","TopHistory","useSelector","TradeHistory","OpenOrders","useTranslation","Helmet","useMediaQuery","useTheme","axios","jsxs","_jsxs","jsx","_jsx","TransactionHistory","theme","state","mTheme","__","isDesktop","breakpoints","up","value","setValue","handleChange","event","newValue","exportHistory","format","tab","resp","get","concat","responseType","blob","Blob","data","type","a","document","createElement","href","URL","createObjectURL","style","display","download","body","appendChild","click","remove","e","console","error","bgImg","children","onChange","className","color","size","onClick"],"sources":["/Users/admin/Desktop/untitled folder/bo_react_test/src/components/pages/TransactionHistory/index.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Tab, TabPanel, Tabs, TabsList } from \"@mui/base\";\nimport { Button, InternalContent } from \"@components/library\";\nimport TopHistory from \"./components/TopHistory\";\nimport { useSelector } from \"react-redux\";\nimport TradeHistory from \"@components/pages/History/components/TradeHistory\";\nimport OpenOrders from \"@components/pages/History/components/OpenOrders\";\nimport \"./index.sass\";\nimport { useTranslation } from \"@helpers/translate\";\nimport { Helmet } from \"react-helmet\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\nimport { useTheme } from \"@mui/material/styles\";\nimport axios from \"@helpers/axios/private.axios\";\n\nexport const TransactionHistory = () => {\n  const { theme } = useSelector((state) => state.theme);\n  const mTheme = useTheme();\n  const { __ } = useTranslation();\n  const isDesktop = useMediaQuery(mTheme.breakpoints.up(\"md\"));\n  const [value, setValue] = useState(1);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const exportHistory = async (format) => {\n    try {\n      const tab = value === 1 ? \"closed\" : \"open\";\n      const resp = await axios.get(`/bid/export/${tab}/${format}`, {\n        responseType: \"blob\",\n      });\n      const blob = new Blob([resp.data], { type: \"text/plain\" });\n\n      const a = document.createElement(\"a\");\n      a.href = URL.createObjectURL(blob);\n      a.style.display = \"none\";\n      a.download = `trading_history.${tab}.${format}`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <InternalContent\n      bgImg={`../images/bg/bg-lamba4${theme === \"white\" ? \"-white\" : \"\"}.png`}\n    >\n      <Helmet>\n        <title>\n          {__(\"seo.trading_history\")} {__(\"seo.divider\")} {__(\"seo.title\")}\n        </title>\n      </Helmet>\n      <TopHistory />\n      <Tabs value={value} onChange={handleChange}>\n        {!isDesktop && (\n          <TabPanel value={1} className={\"tabs-t-history__btns\"}>\n            <Button\n              className=\"tabs-t-history__btn\"\n              color=\"border\"\n              size=\"mini-w\"\n              type=\"button\"\n              onClick={() => exportHistory(\"csv\")}\n            >\n              Export CSV\n            </Button>\n            <Button\n              className=\"tabs-t-history__btn\"\n              color=\"orange\"\n              size=\"mini-w\"\n              type=\"button\"\n              onClick={() => exportHistory(\"xlsx\")}\n            >\n              Export XLSX\n            </Button>\n          </TabPanel>\n        )}\n\n        <TabsList className=\"tabs\">\n          <Tab value={1}>{__(\"history.trade_history\")}</Tab>\n          <Tab value={2}>{__(\"history.open_orders\")}</Tab>\n\n          {isDesktop && (\n            <div className=\"tabs-t-history__btns\">\n              <Button\n                className=\"tabs-t-history__btn\"\n                color=\"border\"\n                size=\"mini-w\"\n                type=\"button\"\n                onClick={() => exportHistory(\"csv\")}\n              >\n                Export CSV\n              </Button>\n              <Button\n                className=\"tabs-t-history__btn\"\n                color=\"orange\"\n                size=\"mini-w\"\n                type=\"button\"\n                onClick={() => exportHistory(\"xlsx\")}\n              >\n                Export XLSX\n              </Button>\n            </div>\n          )}\n        </TabsList>\n        <TabPanel className=\"tab-content\" value={1}>\n          <TradeHistory />\n        </TabPanel>\n        <TabPanel className=\"tab-content\" value={2}>\n          <OpenOrders />\n        </TabPanel>\n      </Tabs>\n    </InternalContent>\n  );\n};\n\nexport default TransactionHistory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}